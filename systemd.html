<!-- HTML Header Start -->
<!DOCTYPE html>
<html><head>
<title>x386.org: Debian and Ubuntu Documentation</title>
<meta charset="UTF-8">
 
 
 
 
 
 
<style>
/* base.css */
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 40px;
  border: 1px solid transparent;
}

body blockquote {
  background-color: initial;
}

body code {
  color: inherit;
}

body code > div {
  background: none;
}

body.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

body p,
body blockquote,
body ul,
body ol,
body dl,
body table,
body pre {
  margin-top: 16px;
  margin-bottom: 16px;
}

/* github-markdown.css */
body {
  color-scheme: dark;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  margin: 0;
  color: #c9d1d9;
  background-color: #0d1117;
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word
}
body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom
}
body h1:hover .anchor .octicon-link:before,
body h2:hover .anchor .octicon-link:before,
body h3:hover .anchor .octicon-link:before,
body h4:hover .anchor .octicon-link:before,
body h5:hover .anchor .octicon-link:before,
body h6:hover .anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")
}
body details,
body figcaption,
body figure {
  display: block
}
body summary {
  display: list-item
}
body a {
  background-color: transparent;
  color: #58a6ff;
  text-decoration: none
}
body a:active,
body a:hover {
  outline-width: 0
}
body abbr[title] {
  border-bottom: none;
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted
}
body b,
body strong {
  font-weight: 600
}
body dfn {
  font-style: italic
}
body h1 {
  margin: .67em 0;
  font-weight: 600;
  padding-bottom: .3em;
  font-size: 1.8em;
  border-bottom: 1px solid #21262d
}
body mark {
  background-color: #ff0;
  color: #c9d1d9
}
body small {
  font-size: 90%
}
body sub,
body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline
}
body sub {
  bottom: -.25em
}
body sup {
  top: -.5em
}
body img {
  border-style: none;
  max-width: 100%;
  box-sizing: content-box;
  background-color: #0d1117
}
body code,
body kbd,
body pre,
body samp {
  font-family: monospace,monospace;
  font-size: 1em
}
body figure {
  margin: 1em 40px
}
body hr {
  box-sizing: content-box;
  overflow: hidden;
  background: 0 0;
  border-bottom: 1px solid #21262d;
  height: .25em;
  padding: 0;
  margin: 24px 0;
  background-color: #30363d;
  border: 0
}
body [type=reset],
body [type=submit],
body html [type=button] {
  -webkit-appearance: button
}
body [type=button]::-moz-focus-inner,
body [type=reset]::-moz-focus-inner,
body [type=submit]::-moz-focus-inner {
  border-style: none;
  padding: 0
}
body [type=button]:-moz-focusring,
body [type=reset]:-moz-focusring,
body [type=submit]:-moz-focusring {
  outline: 1px dotted ButtonText
}
body [type=checkbox],
body [type=radio] {
  box-sizing: border-box;
  padding: 0
}
body [type=number]::-webkit-inner-spin-button,
body [type=number]::-webkit-outer-spin-button {
  height: auto
}
body [type=search] {
  -webkit-appearance: textfield;
  outline-offset: -2px
}
body [type=search]::-webkit-search-cancel-button,
body [type=search]::-webkit-search-decoration {
  -webkit-appearance: none
}
body ::-webkit-input-placeholder {
  color: inherit;
  opacity: .54
}
body ::-webkit-file-upload-button {
  -webkit-appearance: button;
  font: inherit
}
body a:hover {
  text-decoration: underline
}
body hr::before {
  display: table;
  content: ""
}
body hr::after {
  display: table;
  clear: both;
  content: ""
}
body table {
  border-spacing: 0;
  border-collapse: collapse;
  display: block;
  width: max-content;
  max-width: 100%;
  overflow: auto
}
body td,
body th {
  padding: 0
}
body details summary {
  cursor: pointer
}
body details:not([open]) > :not(summary) {
  display: none!important
}
body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
  line-height: 10px;
  color: #c9d1d9;
  vertical-align: middle;
  background-color: #161b22;
  border: solid 1px rgba(110,118,129,.4);
  border-bottom-color: rgba(110,118,129,.4);
  border-radius: 6px;
  box-shadow: inset 0 -1px 0 rgba(110,118,129,.4)
}

details > summary {
  font-weight: 600;
  font-size: 1.4em;
  padding-top: .1em;
}


body h1,
body h2,
body h3,
body h4,
body h5,
body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25
}
body h2 {
  font-weight: 600;
  font-size: 1.6em;
  border-top: 1px solid #21262d;
  padding-top: .2em;
}
body h3 {
  font-weight: 600;
  font-size: 1.4em;
  border-top: 1px solid #21262d;
  padding-top: .2em;
}
body h4 {
  font-weight: 600;
  font-size: 1.2em;
  border-top: 1px solid #21262d;
  padding-top: .2em;
}
body h5 {
  font-weight: 600;
  font-size: 1.0em;
  border-top: 1px solid #21262d;
  padding-top: .2em;
}
body h6 {
  font-weight: 600;
  font-size: 1em;
  color: #8b949e
}
body p {
  margin-top: 0;
  margin-bottom: 10px
}
body blockquote {
  margin: 0;
  padding: 0 1em;
  color: #8b949e;
  border-left: .25em solid #30363d
}
body ol,
body ul {
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 2em
}
body ol ol,
body ul ol {
  list-style-type: lower-roman
}
body ol ol ol,
body ol ul ol,
body ul ol ol,
body ul ul ol {
  list-style-type: lower-alpha
}
body dd {
  margin-left: 0
}
body code,
body tt {
  font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
  font-size: 12px
}
body pre {
  margin-top: 0;
  margin-bottom: 0;
  font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
  font-size: 12px;
  word-wrap: normal
}
body :-ms-input-placeholder {
  color: #484f58;
  opacity: 1
}
body ::-ms-input-placeholder {
  color: #484f58;
  opacity: 1
}
body ::placeholder {
  color: #484f58;
  opacity: 1
}
body .pl-c {
  color: #8b949e
}
body .pl-c1,
body .pl-s .pl-v {
  color: #79c0ff
}
body .pl-e,
body .pl-en {
  color: #d2a8ff
}
body .pl-s .pl-s1,
body .pl-smi {
  color: #c9d1d9
}
body .pl-ent {
  color: #7ee787
}
body .pl-k {
  color: #ff7b72
}
body .pl-pds,
body .pl-s,
body .pl-s .pl-pse .pl-s1,
body .pl-sr,
body .pl-sr .pl-cce,
body .pl-sr .pl-sra,
body .pl-sr .pl-sre {
  color: #a5d6ff
}
body .pl-smw,
body .pl-v {
  color: #ffa657
}
body .pl-bu {
  color: #f85149
}
body .pl-ii {
  color: #f0f6fc;
  background-color: #8e1519
}
body .pl-c2 {
  color: #f0f6fc;
  background-color: #b62324
}
body .pl-sr .pl-cce {
  font-weight: 700;
  color: #7ee787
}
body .pl-ml {
  color: #f2cc60
}
body .pl-mh,
body .pl-mh .pl-en,
body .pl-ms {
  font-weight: 700;
  color: #1f6feb
}
body .pl-mi {
  font-style: italic;
  color: #c9d1d9
}
body .pl-mb {
  font-weight: 700;
  color: #c9d1d9
}
body .pl-md {
  color: #ffdcd7;
  background-color: #67060c
}
body .pl-mi1 {
  color: #aff5b4;
  background-color: #033a16
}
body .pl-mc {
  color: #ffdfb6;
  background-color: #5a1e02
}
body .pl-mi2 {
  color: #c9d1d9;
  background-color: #1158c7
}
body .pl-mdr {
  font-weight: 700;
  color: #d2a8ff
}
body .pl-ba {
  color: #8b949e
}
body .pl-sg {
  color: #484f58
}
body .pl-corl {
  text-decoration: underline;
  color: #a5d6ff
}
body [data-catalyst] {
  display: block
}
body g-emoji {
  font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  font-size: 1em;
  font-style: normal!important;
  font-weight: 400;
  line-height: 1;
  vertical-align: -.075em
}
body g-emoji img {
  width: 1em;
  height: 1em
}
body::before {
  display: table;
  content: ""
}
body::after {
  display: table;
  clear: both;
  content: ""
}
body > :first-child {
  margin-top: 0!important
}
body > :last-child {
  margin-bottom: 0!important
}
body a:not([href]) {
  color: inherit;
  text-decoration: none
}
body .absent {
  color: #f85149
}
body .anchor {
  float: left;
  padding-right: 4px;
  margin-left: -20px;
  line-height: 1
}
body .anchor:focus {
  outline: 0
}
body blockquote,
body details,
body dl,
body ol,
body p,
body pre,
body table,
body ul {
  margin-top: 0;
  margin-bottom: 16px
}
body blockquote > :first-child {
  margin-top: 0
}
body blockquote > :last-child {
  margin-bottom: 0
}
body sup > a::before {
  content: "["
}
body sup > a::after {
  content: "]"
}
body h1 .octicon-link,
body h2 .octicon-link,
body h3 .octicon-link,
body h4 .octicon-link,
body h5 .octicon-link,
body h6 .octicon-link {
  color: #c9d1d9;
  vertical-align: middle;
  visibility: hidden
}
body h1:hover .anchor,
body h2:hover .anchor,
body h3:hover .anchor,
body h4:hover .anchor,
body h5:hover .anchor,
body h6:hover .anchor {
  text-decoration: none
}
body h1:hover .anchor .octicon-link,
body h2:hover .anchor .octicon-link,
body h3:hover .anchor .octicon-link,
body h4:hover .anchor .octicon-link,
body h5:hover .anchor .octicon-link,
body h6:hover .anchor .octicon-link {
  visibility: visible
}
body h1 code,
body h1 tt,
body h2 code,
body h2 tt,
body h3 code,
body h3 tt,
body h4 code,
body h4 tt,
body h5 code,
body h5 tt,
body h6 code,
body h6 tt {
  padding: 0 .2em;
  font-size: inherit
}
body ol.no-list,
body ul.no-list {
  padding: 0;
  list-style-type: none
}
body ol[type="1"] {
  list-style-type: decimal
}
body ol[type=a] {
  list-style-type: lower-alpha
}
body ol[type=i] {
  list-style-type: lower-roman
}
body div > ol:not([type]) {
  list-style-type: decimal
}
body ol ol,
body ol ul,
body ul ol,
body ul ul {
  margin-top: 0;
  margin-bottom: 0
}
body li > p {
  margin-top: 16px
}
body li + li {
  margin-top: .25em
}
body dl {
  padding: 0
}
body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600
}
body dl dd {
  padding: 0 16px;
  margin-bottom: 16px
}
body table th {
  font-weight: 600
}
body table td,
body table th {
  padding: 6px 13px;
  border: 1px solid #30363d
}
body table tr {
  background-color: #0d1117;
  border-top: 1px solid #21262d
}
body table tr:nth-child(2n) {
  background-color: #161b22
}
body table img {
  background-color: transparent
}
body img[align=right] {
  padding-left: 20px
}
body img[align=left] {
  padding-right: 20px
}
body .emoji {
  max-width: none;
  vertical-align: text-top;
  background-color: transparent
}
body span.frame {
  display: block;
  overflow: hidden
}
body span.frame > span {
  display: block;
  float: left;
  width: auto;
  padding: 7px;
  margin: 13px 0 0;
  overflow: hidden;
  border: 1px solid #30363d
}
body span.frame span img {
  display: block;
  float: left
}
body span.frame span span {
  display: block;
  padding: 5px 0 0;
  clear: both;
  color: #c9d1d9
}
body span.align-center {
  display: block;
  overflow: hidden;
  clear: both
}
body span.align-center > span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: center
}
body span.align-center span img {
  margin: 0 auto;
  text-align: center
}
body span.align-right {
  display: block;
  overflow: hidden;
  clear: both
}
body span.align-right > span {
  display: block;
  margin: 13px 0 0;
  overflow: hidden;
  text-align: right
}
body span.align-right span img {
  margin: 0;
  text-align: right
}
body span.float-left {
  display: block;
  float: left;
  margin-right: 13px;
  overflow: hidden
}
body span.float-left span {
  margin: 13px 0 0
}
body span.float-right {
  display: block;
  float: right;
  margin-left: 13px;
  overflow: hidden
}
body span.float-right > span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: right
}
body code,
body tt {
  padding: .2em .4em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(110,118,129,.4);
  border-radius: 6px
}
body code br,
body tt br {
  display: none
}
body del code {
  text-decoration: inherit
}
body pre code {
  font-size: 100%
}
body pre > code {
  padding: 0;
  margin: 0;
  word-break: normal;
  white-space: pre;
  background: 0 0;
  border: 0
}
body .highlight {
  margin-bottom: 16px
}
body .highlight pre {
  margin-bottom: 0;
  word-break: normal
}
body .highlight pre,
body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #161b22;
  border-radius: 6px
}
body pre code,
body pre tt {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0
}
body .csv-data td,
body .csv-data th {
  padding: 5px;
  overflow: hidden;
  font-size: 12px;
  line-height: 1;
  text-align: left;
  white-space: nowrap
}
body .csv-data .blob-num {
  padding: 10px 8px 9px;
  text-align: right;
  background: #0d1117;
  border: 0
}
body .csv-data tr {
  border-top: 0
}
body .csv-data th {
  font-weight: 600;
  background: #161b22;
  border-top: 0
}
body .footnotes {
  font-size: 12px;
  color: #8b949e;
  border-top: 1px solid #30363d
}
body .footnotes ol {
  padding-left: 16px
}
body .footnotes li {
  position: relative
}
body .footnotes li:target::before {
  position: absolute;
  top: -8px;
  right: -8px;
  bottom: -8px;
  left: -24px;
  pointer-events: none;
  content: "";
  border: 2px solid #1f6feb;
  border-radius: 6px
}
body .footnotes li:target {
  color: #c9d1d9
}
body .footnotes .data-footnote-backref g-emoji {
  font-family: monospace
}
body [hidden] {
  display: none!important
}
body ::-webkit-calendar-picker-indicator {
  filter: invert(50%)
}

/* node_modules/highlight.js/styles/github-dark.css */
pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub Dark
  Description: Dark theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-dark
  Current colors taken from GitHub's CSS
*/.hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}

</style>
</head>
<body>
<div class="document">
<div class="header"></div><div class="inner">
<!-- HTML Header End -->
<!-- Header Start -->

<h1>x386.org: Debian and Ubuntu Documentation</h1>
<h4>| &ensp;<a href="index.html">Home</a>&ensp; |&ensp; <a href="about.html">About</a> &ensp;| &ensp;<a href="contact.html">Contact</a>&ensp; | &ensp;<a href="license.html">License</a>&ensp; | &ensp;<a href="privacy_policy.html">Privacy Policy</a>&ensp; |</h4>
<!-- Copyright Start -->
<details>
<summary>Copyright (C) 2020 - 2025 Exforge exforge@x386.org</summary>
<hr />
<p>This document is free text: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or any later version.</p>
<p>This document is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program.  If not, see: <a href="https://www.gnu.org/licenses/">www.gnu.org/licenses/</a>.</p>
<hr />
</details>
<!-- Copyright End -->

<!-- Header End -->
<h5>Systemd</h5>
<h1>Basic Systemd Tutorial</h1>
</details>
<details>
<summary>
0. Specs
</summary>
<hr />
<h3>0.1. The What</h3>
<p>systemd is a suite of basic building blocks for a Linux system. It provides a system and service manager that runs as PID 1 and starts the rest of the system (from systemd.io).</p>
<p>systemd is a software suite that provides an array of system components for Linux operating systems (from Wikipedia).</p>
<p>systemd is an init system for Linux that replaces SysV init. Many distributions use it as their init system, including Debian, Ubuntu, and RHEL. However, several distributions do not use systemd, such as Slackware, Devuan, Alpine, and Gentoo.</p>
<p>A strong alternative to systemd is OpenRC.</p>
<h3>0.2. Definitions</h3>
<p><strong>D-Bus (Desktop Bus):</strong> A message-oriented middleware mechanism that allows communication between multiple processes running concurrently on the same machine (from Wikipedia).</p>
<p><strong>cgroups (Control Groups):</strong> A kernel feature that allows setting resource utilization limits for processes, such as CPU shares, memory usage, and block I/O per process. Originally developed by Google.</p>
<h3>0.3. Sources</h3>
<ul>
<li><a href="https://wiki.debian.org/systemd/documentation">wiki.debian.org</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/systemd-essentials-working-with-services-units-and-the-journal">www.digitalocean.com</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units">www.digitalocean.com</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs">www.digitalocean.com</a></li>
<li><a href="https://www.redhat.com/sysadmin/cgroups-part-one">www.redhat.com</a></li>
<li><a href="https://en.wikipedia.org/wiki/Systemd">wikipedia.org</a></li>
<li><a href="https://en.wikipedia.org/wiki/D-Bus">wikipedia.org</a></li>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/system_administrators_guide/chap-managing_services_with_systemd">access.redhat.com</a></li>
<li><a href="https://www.howtogeek.com/675569/why-linuxs-systemd-is-still-divisive-after-all-these-years/">www.howtogeek.com</a></li>
<li><a href="https://systemd.io/">systemd.io</a></li>
<li><strong>The Debian Administrator’s Handbook</strong> by Raphaël Hertzog and Roland Mas</li>
<li><strong>Linux Service Management Made Easy with systemd</strong> by Donald A. Tevault</li>
</ul>
<p><br></p>
</details>
<details>
<summary>
1. systemd Units
</summary>
<hr />
<p>Units are the resources that systemd knows how to manage and to operate.</p>
<h3>1.1. Unit Locations</h3>
<p>Unit files are located in the following directories (listed in increasing order of precedence):</p>
<ul>
<li><code>/lib/systemd/system/</code></li>
<li><code>/run/systemd/system/</code></li>
<li><code>/etc/systemd/system/</code></li>
</ul>
<h3>1.2. Unit Types:</h3>
<ul>
<li><strong><code>.service</code></strong>: Contains information for managing a service or application, including starting, stopping, automatic startup, and dependencies.</li>
<li><strong><code>.socket</code></strong>: Describes a socket for systemd's socket-based activation. Must have an associated <code>.service</code> file.</li>
<li><strong><code>.device</code></strong>: Describes a device that requires systemd management. Not all devices have a <code>.device</code> file.</li>
<li><strong><code>.mount</code></strong>: Describes mountpoints that need to be managed by systemd.</li>
<li><strong><code>.automount</code></strong>: Configures a mountpoint to be automatically mounted. Must have a corresponding <code>.mount</code> unit.</li>
<li><strong><code>.swap</code></strong>: Describes swap space on the system.</li>
<li><strong><code>.target</code></strong>: Used to synchronize with other units (similar to runlevels in SysV init).</li>
<li><strong><code>.path</code></strong>: Defines a path for path-based activation. A matching unit is started based on the path's existence or state.</li>
<li><strong><code>.timer</code></strong>: Defines a timer managed by systemd. A matching unit is started when the timer elapses.</li>
<li><strong><code>.snapshot</code></strong>: Created with the <code>systemctl snapshot</code> command. Saves the current system state but does not persist across reboots.</li>
<li><strong><code>.slice</code></strong>: Associated with cgroups (Linux Control Group nodes), allowing resource restrictions to be applied.</li>
<li><strong><code>.scope</code></strong>: Created automatically by systemd from information received via its bus interfaces. Manages sets of system processes created externally.</li>
</ul>
<h3>1.3. Example Unit Files</h3>
<p><strong>Contents of <code>/lib/systemd/system/apache2.service</code>:</strong></p>
<pre><code>[Unit]
Description=The Apache HTTP Server
After=network.target remote-fs.target nss-lookup.target
Documentation=https://httpd.apache.org/docs/2.4/

[Service]
Type=forking
Environment=APACHE_STARTED_BY_SYSTEMD=true
ExecStart=/usr/sbin/apachectl start
ExecStop=/usr/sbin/apachectl graceful-stop
ExecReload=/usr/sbin/apachectl graceful
KillMode=mixed
PrivateTmp=true
Restart=on-abort
OOMPolicy=continue

[Install]
WantedBy=multi-user.target
</code></pre>
<p><strong>Contents of <code>/lib/systemd/system/ssh.service</code>:</strong></p>
<pre><code>[Unit]
Description=OpenBSD Secure Shell server
Documentation=man:sshd(8) man:sshd_config(5)
After=network.target nss-user-lookup.target auditd.service
ConditionPathExists=!/etc/ssh/sshd_not_to_be_run

[Service]
EnvironmentFile=-/etc/default/ssh
ExecStartPre=/usr/sbin/sshd -t
ExecStart=/usr/sbin/sshd -D $SSHD_OPTS
ExecReload=/usr/sbin/sshd -t
ExecReload=/bin/kill -HUP $MAINPID
KillMode=process
Restart=on-failure
RestartPreventExitStatus=255
Type=notify
RuntimeDirectory=sshd
RuntimeDirectoryMode=0755

[Install]
WantedBy=multi-user.target
Alias=sshd.service
</code></pre>
<p><strong>Contents of <code>/lib/systemd/system/ssh.socket</code>:</strong></p>
<pre><code>[Unit]
Description=OpenBSD Secure Shell server socket
Before=sockets.target
ConditionPathExists=!/etc/ssh/sshd_not_to_be_run

[Socket]
ListenStream=22
Accept=no

[Install]
WantedBy=sockets.target
</code></pre>
<p><strong>Contents of <code>/etc/systemd/system/snap-firefox-2356.mount</code>:</strong></p>
<pre><code>[Unit]
Description=Mount unit for firefox, revision 2356
After=snapd.mounts-pre.target
Before=snapd.mounts.target
Before=local-fs.target
[Mount]
What=/var/lib/snapd/snaps/firefox_2356.snap
Where=/snap/firefox/2356
Type=squashfs
Options=nodev,ro,x-gdu.hide,x-gvfs-hide
LazyUnmount=yes
[Install]
WantedBy=snapd.mounts.target
WantedBy=multi-user.target
</code></pre>
<h3>1.4. Unit File Structure</h3>
<p>Unit files consist of sections. The <code>[Unit]</code> and <code>[Install]</code> sections can exist in all unit types. Additional sections exist for specific unit types: <code>[Socket]</code>, <code>[Mount]</code>, <code>[Automount]</code>, <code>[Swap]</code>, <code>[Path]</code>, <code>[Timer]</code>, and <code>[Slice]</code>.</p>
<p>Sections contain directives, which can be general or specific to certain unit types.</p>
<p>For a complete list of directives, see:<br />
<a href="https://www.freedesktop.org/software/systemd/man/systemd.directives.html">https://www.freedesktop.org/software/systemd/man/systemd.directives.html</a></p>
<h4>1.4.1. [Unit] Section Directives (Applies to all unit types)</h4>
<ul>
<li><strong><code>Description</code></strong>: A brief description of the unit.</li>
<li><strong><code>Documentation</code></strong>: Location of documentation.</li>
<li><strong><code>Requires</code></strong>: Units this unit depends on. All must be activated for this unit to activate.</li>
<li><strong><code>Wants</code></strong>: Similar to <code>Requires</code> but less strict. Systemd attempts to activate listed units before this unit.</li>
<li><strong><code>BindsTo</code></strong>: Similar to <code>Requires</code>; also stops this unit when the listed unit stops.</li>
<li><strong><code>Before</code></strong>: This unit must start before listed units (does not imply dependency).</li>
<li><strong><code>After</code></strong>: Listed units must start before this unit (does not imply dependency).</li>
<li><strong><code>Conflicts</code></strong>: This unit cannot run simultaneously with listed units. Starting this unit stops others.</li>
<li><strong><code>Condition</code></strong>: Unit starts only if conditions are met; otherwise, it is skipped.</li>
<li><strong><code>Assert</code></strong>: Similar to <code>Condition</code>, but unmet conditions cause a failure.</li>
<li><strong><code>ConditionPathExists</code></strong>: Unit starts if the specified path exists. Prefix with <code>!</code> to negate.</li>
</ul>
<h4>1.4.2. [Install] Section Directives (Applies to all unit types)</h4>
<ul>
<li><strong><code>WantedBy</code></strong>: Similar to the <code>Wants</code> directive; commonly used with targets.</li>
<li><strong><code>RequiredBy</code></strong>: Similar to <code>WantedBy</code> but stricter; failure occurs if dependency is unmet.</li>
<li><strong><code>Alias</code></strong>: Allows the unit to have an alias name (e.g., <code>ssh</code> for <code>sshd</code>).</li>
<li><strong><code>Also</code></strong>: Additional units to install/uninstall alongside this unit.</li>
<li><strong><code>DefaultInstance</code></strong>: Used only with template units; specifies the default instance name.</li>
</ul>
<h4>1.4.3. [Service] Section Directives (Applies to service units)</h4>
<ul>
<li><strong><code>Type</code></strong>: Defines the service type:<ul>
<li><strong><code>simple</code></strong>: Systemd assumes the service starts immediately.</li>
<li><strong><code>exec</code></strong>: Similar to <code>simple</code>, but systemd waits for the binary to execute.</li>
<li><strong><code>forking</code></strong>: The service forks a child process and exits.</li>
<li><strong><code>oneshot</code></strong>: The service runs briefly and exits.</li>
<li><strong><code>dbus</code></strong>: The service acquires a name on the D-Bus.</li>
<li><strong><code>notify</code></strong>: The service notifies systemd when startup is complete.</li>
<li><strong><code>idle</code></strong>: The service runs only after all other jobs are dispatched.</li>
</ul>
</li>
<li><strong><code>RemainAfterExit</code></strong>: Commonly used with <code>oneshot</code>; indicates the service remains active after the process exits.</li>
<li><strong><code>PIDFile</code></strong>: For <code>forking</code> type; specifies the file containing the child process PID.</li>
<li><strong><code>BusName</code></strong>: For <code>dbus</code> type; the D-Bus name to acquire.</li>
<li><strong><code>NotifyAccess</code></strong>: Controls which service status messages are notified (<code>main</code>, <code>exec</code>, or <code>none</code>).</li>
<li><strong><code>Environment</code></strong>: Environment variables to set.</li>
<li><strong><code>EnvironmentFile</code></strong>: File containing environment variables. Prefix with <code>-</code> to ignore if the file is missing.</li>
<li><strong><code>KillMode</code></strong>: How to stop the service: <code>process</code> (kill main process only), <code>mixed</code> (kill main and child processes), <code>none</code> (only run <code>ExecStop</code>).</li>
<li><strong><code>ExecStart</code></strong>: Command to start the service. Prefix with <code>-</code> to ignore failures.</li>
<li><strong><code>ExecStartPre</code></strong>: Commands to run before the main process.</li>
<li><strong><code>ExecStartPost</code></strong>: Commands to run after the main process starts.</li>
<li><strong><code>ExecReload</code></strong>: Command to reload the service.</li>
<li><strong><code>ExecStop</code></strong>: Command to stop the service.</li>
<li><strong><code>ExecStopPost</code></strong>: Commands to run after stopping the service.</li>
<li><strong><code>RestartSec</code></strong>: Time to wait before restarting.</li>
<li><strong><code>Restart</code></strong>: Conditions for automatic restart (<code>always</code>, <code>on-success</code>, <code>on-failure</code>, <code>on-abnormal</code>, <code>on-abort</code>, <code>on-watchdog</code>).</li>
<li><strong><code>RestartPreventExitStatus</code></strong>: Prevents restart if the specified exit code is received.</li>
<li><strong><code>RuntimeDirectory</code></strong>: Directory under <code>/run</code> for the service.</li>
<li><strong><code>RuntimeDirectoryMode</code></strong>: Permissions for the runtime directory (default: <code>0755</code>).</li>
<li><strong><code>TimeoutSec</code></strong>: Time to wait before marking start/stop as failed (or killing).</li>
<li><strong><code>TimeoutStartSec</code></strong>: Time to wait before marking start as failed.</li>
<li><strong><code>TimeoutStopSec</code></strong>: Time to wait before marking stop as failed.</li>
</ul>
<h4>1.4.4. [Socket] Section Directives (Applies to socket units)</h4>
<ul>
<li><strong><code>ListenStream</code></strong>: Address to listen on for a TCP stream.</li>
<li><strong><code>ListenDatagram</code></strong>: Address to listen on for a UDP datagram.</li>
<li><strong><code>ListenSequentialPacket</code></strong>: Address to listen on for a Unix socket stream.</li>
<li><strong><code>ListenFIFO</code></strong>: Filesystem FIFO to listen on.</li>
<li><strong><code>Accept</code></strong>: If <code>yes</code>, a service instance is spawned for each connection; if <code>no</code>, all sockets are passed to the service unit.</li>
<li><strong><code>SocketUser</code></strong>: Unix username for the socket (default: <code>root</code>).</li>
<li><strong><code>SocketGroup</code></strong>: Unix group name for the socket (default: <code>root</code>).</li>
<li><strong><code>SocketMode</code></strong>: Filesystem permissions for the socket (default: <code>0666</code>).</li>
<li><strong><code>Service</code></strong>: Name of the connected service (if different from the socket name).</li>
</ul>
<h4>1.4.5. [Mount] Section Directives (Applies to mount units)</h4>
<ul>
<li><strong><code>What</code></strong>: Path to mount.</li>
<li><strong><code>Where</code></strong>: Mountpoint path.</li>
<li><strong><code>Type</code></strong>: Filesystem type.</li>
<li><strong><code>Options</code></strong>: Comma-separated mount options.</li>
<li><strong><code>SloppyOptions</code></strong>: Boolean; if <code>true</code>, unrecognized mount options are ignored.</li>
<li><strong><code>DirectoryMode</code></strong>: Permissions for parent directories of the mountpoint.</li>
<li><strong><code>TimeoutSec</code></strong>: Time to wait before marking the operation as failed.</li>
</ul>
<h4>1.4.6. [Automount] Section Directives (Applies to automount units)</h4>
<ul>
<li><strong><code>Where</code></strong>: Mountpoint path.</li>
<li><strong><code>DirectoryMode</code></strong>: Permissions for parent directories.</li>
</ul>
<h4>1.4.7. [Swap] Section Directives (Applies to swap units)</h4>
<ul>
<li><strong><code>What</code></strong>: Path to the swap file or device.</li>
<li><strong><code>Priority</code></strong>: Swap priority (integer).</li>
<li><strong><code>Options</code></strong>: Comma-separated options for <code>/etc/fstab</code>.</li>
<li><strong><code>TimeoutSec</code></strong>: Time to wait before marking the operation as failed.</li>
</ul>
<h4>1.4.8. [Path] Section Directives (Applies to path units)</h4>
<ul>
<li><strong><code>PathExists</code></strong>: Activates the associated unit if the path exists.</li>
<li><strong><code>PathExistsGlob</code></strong>: Similar to <code>PathExists</code> but supports glob patterns.</li>
<li><strong><code>PathChanged</code></strong>: Activates the unit when the file at the path is saved and closed.</li>
<li><strong><code>PathModified</code></strong>: Similar to <code>PathChanged</code> but also triggers on file modifications.</li>
<li><strong><code>DirectoryNotEmpty</code></strong>: Activates the unit if the specified directory is not empty.</li>
<li><strong><code>Unit</code></strong>: Name of the connected unit (if different from the path name).</li>
<li><strong><code>MakeDirectory</code></strong>: If <code>true</code>, creates directories before watching.</li>
<li><strong><code>DirectoryMode</code></strong>: Permissions for created directories (default: <code>0755</code>).</li>
</ul>
<h4>1.4.9. [Timer] Section Directives (Applies to timer units)</h4>
<ul>
<li><strong><code>OnActiveSec</code></strong>: Activates the associated unit after this duration from timer activation.</li>
<li><strong><code>OnBootSec</code></strong>: Activates the unit after this duration from boot.</li>
<li><strong><code>OnStartupSec</code></strong>: Activates the unit after this duration from systemd startup.</li>
<li><strong><code>OnUnitActiveSec</code></strong>: Activates the unit after this duration from the last activation.</li>
<li><strong><code>OnUnitInactiveSec</code></strong>: Activates the unit after this duration from the last inactivation.</li>
<li><strong><code>OnCalendar</code></strong>: Absolute time to activate the unit.</li>
<li><strong><code>AccuracySec</code></strong>: Timer accuracy level.</li>
<li><strong><code>Unit</code></strong>: Name of the associated unit (if different from the timer name).</li>
<li><strong><code>Persistent</code></strong>: If <code>true</code>, stores the last trigger time on disk; triggers immediately if missed while inactive.</li>
</ul>
<p><br></p>
</details>
<details>
<summary>
2. Targets
</summary>
<hr />
<h3>2.1. Definition and List</h3>
<p>Targets are similar to SysV init runlevels. Their purpose is to group other systemd units through chains of dependencies.</p>
<p>A fresh Debian 13 server installation includes the following targets:</p>
<pre><code>systemctl list-unit-files --type=target
</code></pre>
<pre><code>UNIT FILE                     STATE    PRESET  
basic.target                  static   -       
blockdev@.target              static   -       
bluetooth.target              static   -       
boot-complete.target          static   -       
ctrl-alt-del.target           alias    -       
default.target                alias    -       
emergency.target              static   -       
exit.target                   disabled disabled
factory-reset.target          static   -       
final.target                  static   -       
first-boot-complete.target    static   -       
getty-pre.target              static   -       
getty.target                  static   -       
graphical.target              static   -       
halt.target                   disabled disabled
hibernate.target              static   -       
hybrid-sleep.target           static   -       
initrd-fs.target              static   -       
initrd-root-device.target     static   -       
initrd-root-fs.target         static   -       
initrd-switch-root.target     static   -       
initrd-usr-fs.target          static   -       
initrd.target                 static   -       
kexec.target                  disabled disabled
local-fs-pre.target           static   -       
local-fs.target               static   -       
multi-user.target             static   -       
network-online.target         static   -       
network-pre.target            static   -       
network.target                static   -       
nss-lookup.target             static   -       
nss-user-lookup.target        static   -       
paths.target                  static   -       
poweroff.target               disabled disabled
printer.target                static   -       
reboot.target                 disabled enabled 
remote-fs-pre.target          static   -       
remote-fs.target              enabled  enabled 
rescue-ssh.target             static   -       
rescue.target                 static   -       
rpcbind.target                static   -       
runlevel0.target              alias    -       
runlevel1.target              alias    -       
runlevel2.target              alias    -       
runlevel3.target              alias    -       
runlevel4.target              alias    -       
runlevel5.target              alias    -       
runlevel6.target              alias    -       
shutdown.target               static   -       
sigpwr.target                 static   -       
sleep.target                  static   -       
slices.target                 static   -       
smartcard.target              static   -       
sockets.target                static   -       
soft-reboot.target            static   -       
sound.target                  static   -       
ssh-access.target             static   -       
storage-target-mode.target    static   -       
suspend-then-hibernate.target static   -       
suspend.target                static   -       
swap.target                   static   -       
sysinit.target                static   -       
system-update-pre.target      static   -       
system-update.target          static   -       
time-set.target               static   -       
time-sync.target              static   -       
timers.target                 static   -       
tpm2.target                   static   -       
sigpwr.target                 static   -       
sleep.target                  static   -       
slices.target                 static   -       
smartcard.target              static   -       
sockets.target                static   -       
soft-reboot.target            static   -       
sound.target                  static   -       
ssh-access.target             static   -       
storage-target-mode.target    static   -       
suspend-then-hibernate.target static   -       
suspend.target                static   -       
swap.target                   static   -       
sysinit.target                static   -       
system-update-pre.target      static   -       
system-update.target          static   -       
time-set.target               static   -       
time-sync.target              static   -       
timers.target                 static   -       
tpm2.target                   static   -       
umount.target                 static   -       
usb-gadget.target             static   -   
</code></pre>
<p>Target configuration files are located in <code>/lib/systemd/system/</code>.</p>
<h3>2.2. Example Target Files</h3>
<p><strong><code>network.target</code>:</strong></p>
<pre><code>[Unit]
Description=Network
Documentation=man:systemd.special(7)
Documentation=https://systemd.io/NETWORK_ONLINE
After=network-pre.target
RefuseManualStart=yes
</code></pre>
<p><strong><code>multi-user.target</code>:</strong></p>
<pre><code>[Unit]
Description=Multi-User System
Documentation=man:systemd.special(7)
Requires=basic.target
Conflicts=rescue.service rescue.target
After=basic.target rescue.service rescue.target
AllowIsolate=yes
</code></pre>
<p><strong><code>graphical.target</code>:</strong></p>
<pre><code>[Unit]
Description=Graphical Interface
Documentation=man:systemd.special(7)
Requires=multi-user.target
Wants=display-manager.service
Conflicts=rescue.service rescue.target
After=multi-user.target rescue.service rescue.target display-manager.service
AllowIsolate=yes
</code></pre>
<p><br></p>
</details>
<details>
<summary>
3. Unit Management: systemctl Command
</summary>
<hr />
<p><strong>Start a service:</strong></p>
<pre><code>sudo systemctl start apache2.service
</code></pre>
<p><strong>Stop a service:</strong></p>
<pre><code>sudo systemctl stop apache2.service
</code></pre>
<p><strong>Reload a service</strong> (reloads configuration without restarting):</p>
<pre><code>sudo systemctl reload apache2.service
</code></pre>
<p><strong>Restart a service:</strong></p>
<pre><code>sudo systemctl restart apache2.service
</code></pre>
<p><strong>Reload if possible, otherwise restart:</strong></p>
<pre><code>sudo systemctl reload-or-restart apache2.service
</code></pre>
<p><strong>Enable a service</strong> (starts automatically at boot):</p>
<pre><code>sudo systemctl enable apache2.service
</code></pre>
<p><strong>Disable a service</strong> (does not start at boot):</p>
<pre><code>sudo systemctl disable apache2.service
</code></pre>
<p><strong>Show status of a service:</strong></p>
<pre><code>sudo systemctl status apache2.service
</code></pre>
<p><strong>Check if a service is active:</strong></p>
<pre><code>systemctl is-active apache2.service
</code></pre>
<p><strong>Check if a service is enabled:</strong></p>
<pre><code>systemctl is-enabled apache2.service
</code></pre>
<p><strong>Check if a service has failed:</strong></p>
<pre><code>systemctl is-failed apache2.service
</code></pre>
<p><strong>Mask a service</strong> (prevents it from being started, even manually):</p>
<pre><code>sudo systemctl mask apache2.service
</code></pre>
<p><strong>Unmask a service:</strong></p>
<pre><code>sudo systemctl unmask apache2.service
</code></pre>
<p><strong>List all active units:</strong></p>
<pre><code>sudo systemctl list-units
</code></pre>
<p><strong>List all units</strong> (including loaded and attempted):</p>
<pre><code>sudo systemctl list-units --all
</code></pre>
<p><strong>List all installed unit files:</strong></p>
<pre><code>sudo systemctl list-unit-files
</code></pre>
<p><strong>List services only:</strong></p>
<pre><code>systemctl list-units --type=service
</code></pre>
<p><strong>View the contents of a unit file:</strong></p>
<pre><code>systemctl cat apache2.service
</code></pre>
<p><strong>View dependencies of a unit:</strong></p>
<pre><code>systemctl list-dependencies apache2.service
</code></pre>
<p><strong>View dependencies recursively:</strong></p>
<pre><code>systemctl list-dependencies apache2.service --all
</code></pre>
<p><strong>View low-level details of a unit:</strong></p>
<pre><code>systemctl show apache2.service
</code></pre>
<p><strong>Create an override or modify settings</strong> (creates/edit a drop-in file):</p>
<pre><code>sudo systemctl edit apache2.service
</code></pre>
<p><strong>Edit the entire unit file:</strong></p>
<pre><code>sudo systemctl edit --full apache2.service
</code></pre>
<p><strong>Reload systemd</strong> (after modifying unit files):</p>
<pre><code>sudo systemctl daemon-reload
</code></pre>
<p><strong>Show the default target</strong> (equivalent to runlevel):</p>
<pre><code>systemctl get-default
</code></pre>
<p><strong>Set the default target:</strong></p>
<pre><code>sudo systemctl set-default graphical.target
sudo systemctl set-default multi-user.target
</code></pre>
<p><strong>List available targets:</strong></p>
<pre><code>systemctl list-unit-files --type=target
</code></pre>
<p><strong>List units associated with a target:</strong></p>
<pre><code>systemctl list-dependencies multi-user.target
</code></pre>
<p><strong>Power off and reboot the system:</strong></p>
<pre><code>sudo systemctl poweroff
sudo systemctl reboot
</code></pre>
<p><strong>Boot into rescue mode:</strong></p>
<pre><code>sudo systemctl rescue
</code></pre>
<p><strong>Halt the system</strong> (does not power off the machine):</p>
<pre><code>sudo systemctl halt
</code></pre>
<p><strong>Control systemd on a remote system:</strong></p>
<pre><code>systemctl --host user_name@host_name command
</code></pre>
<p><br></p>
</details>
<details>
<summary>
4. Log Management: journalctl Command
</summary>
<hr />
<p><strong>View all log entries:</strong></p>
<pre><code>journalctl
</code></pre>
<p><strong>View all log entries for the current boot:</strong></p>
<pre><code>journalctl -b
</code></pre>
<p><strong>View only kernel entries:</strong></p>
<pre><code>journalctl -k
</code></pre>
<p><strong>View only kernel entries for the current boot:</strong></p>
<pre><code>journalctl -k -b
</code></pre>
<p><strong>View log entries for a specific unit (e.g., Apache):</strong></p>
<pre><code>journalctl -u apache2.service
</code></pre>
<p><strong>View unit logs for the current boot:</strong></p>
<pre><code>journalctl -b -u apache2.service
</code></pre>
<p><strong>View logs from the previous boot:</strong></p>
<pre><code>journalctl -b -1
</code></pre>
<p><strong>View the list of the boots boots:</strong></p>
<pre><code>journalctl --list-boots
</code></pre>
<p><strong>View logs within a time interval:</strong></p>
<pre><code>journalctl --since &quot;2023-01-10 17:15:00&quot;
journalctl --since &quot;2023-01-10&quot; --until &quot;2023-01-11 03:00&quot;
journalctl --since yesterday
journalctl --since 09:00 --until &quot;1 hour ago&quot;
journalctl -u apache2.service --since today
</code></pre>
<p><strong>View log entries for a specific executable:</strong></p>
<pre><code>journalctl /usr/bin/bash
</code></pre>
<p><strong>Output logs in JSON format:</strong></p>
<pre><code>journalctl -b -u apache2 -o json
journalctl -b -u apache2 -o json-pretty
</code></pre>
<p><strong>Show the most recent 10 entries:</strong></p>
<pre><code>journalctl -n
</code></pre>
<p><strong>Show the most recent 20 entries:</strong></p>
<pre><code>journalctl -n 20
</code></pre>
<p><strong>Follow logs in real-time</strong> (similar to <code>tail -f</code>; press Ctrl+C to exit):</p>
<pre><code>journalctl -f
</code></pre>
<p><strong>Show disk usage of journal logs:</strong></p>
<pre><code>journalctl --disk-usage
</code></pre>
<p><strong>Delete old logs to reduce size to a specified limit:</strong></p>
<pre><code>sudo journalctl --vacuum-size=1G
</code></pre>
<p><strong>Delete logs older than a specified time:</strong></p>
<pre><code>sudo journalctl --vacuum-time=1years
</code></pre>
<p><br></p>
</details>
<details>
<summary>
5. Other systemd Components
</summary>
<hr />
<p>systemd includes several additional components. Some notable ones are:</p>
<ul>
<li>
<p><strong>systemd-boot</strong>: A UEFI boot manager with basic configuration support. Integrates with <code>systemctl</code> and includes the <code>bootctl</code> command.</p>
</li>
<li>
<p><strong>systemd-cat</strong>: Adds records to the systemd journal via a pipeline.
  <code>echo "Test" | systemd-cat -p info</code></p>
</li>
<li>
<p><strong>systemd-localed</strong>: Manages system locale settings. Controlled via the <code>localectl</code> command.</p>
</li>
<li>
<p><strong>systemd-logind</strong>: Manages user logins, tracks users and sessions, and handles device access for users.</p>
</li>
<li>
<p><strong>systemd-machined</strong>: Detects and monitors virtual machines and containers. Includes the <code>machinectl</code> command.</p>
</li>
<li>
<p><strong>systemd-mount</strong>: Manages <code>.mount</code> and <code>.automount</code> units.</p>
</li>
<li>
<p><strong>systemd-networkd</strong>: Handles network configuration. Configuration files are located in (in order of precedence):</p>
<ul>
<li><code>/lib/systemd/network</code></li>
<li><code>/run/systemd/network</code></li>
<li><code>/etc/systemd/network</code></li>
</ul>
</li>
<li>
<p><strong>systemd-nspawn</strong>: Runs commands or operating systems in lightweight namespace containers, similar to <code>chroot</code> in many respects.</p>
</li>
<li>
<p><strong>systemd-resolved</strong>: Provides network name resolution. Includes the <code>resolvectl</code> command.</p>
</li>
<li>
<p><strong>systemd-sysusers</strong>: Creates system users and groups.</p>
</li>
<li>
<p><strong>systemd-timesyncd</strong>: Synchronizes system time over the network with NTP servers. Includes the <code>timedatectl</code> command.</p>
</li>
<li>
<p><strong>systemd-tmpfiles</strong>: Manages volatile and temporary files and directories (creates, deletes, cleans up).</p>
</li>
<li>
<p><strong>systemd-udevd</strong>: Manages physical devices.</p>
</li>
</ul>
<p><br></p>
</details>
<details>
<summary>
6. Creating a Custom Service
</summary>
<hr />
<p>We will create a simple custom service that pings an IP address every 10 minutes. It logs an informational message if the ping succeeds, and an error message if it fails.</p>
<p>The service consists of a shell script placed in <code>/usr/local/bin</code>, a systemd unit file, and will be enabled, started, and tested.</p>
<h3>6.1. Create the Shell Script</h3>
<p>Create a script named <code>ipcheck.sh</code>:</p>
<pre><code>nano ipcheck.sh
</code></pre>
<p>Add the following content:</p>
<pre><code>#!/bin/bash
echo &quot;ipcheck.service: Start. $(date)&quot; | systemd-cat -p info
while true ; do
  ping -q -w 1 192.168.1.1 &gt; /dev/null
  if [ $? = 0 ] ; then
     echo &quot;ipcheck.service: Ping to IP is OK. $(date)&quot; | systemd-cat -p info
  else
     echo &quot;ipcheck.service: Error cannot ping IP. $(date)&quot; | systemd-cat -p err
  fi
  sleep 600
done
</code></pre>
<h3>6.2. Copy the Script to <code>/usr/local/bin</code></h3>
<p>Make the script executable and copy it:</p>
<pre><code>chmod +x ipcheck.sh
sudo cp ipcheck.sh /usr/local/bin
</code></pre>
<h3>6.3. Create the Unit File</h3>
<p>Use <code>systemctl edit</code> to create the service unit:</p>
<pre><code>sudo systemctl edit --force --full ipcheck.service
</code></pre>
<p>This command opens an editor. Add the following configuration:</p>
<pre><code>[Unit]
Description=IPCheck Demo Service
Wants=network.target
After=syslog.target network-online.target

[Service]
ExecStart=/usr/local/bin/ipcheck.sh
Restart=on-failure
RestartSec=20
KillMode=process

[Install]
WantedBy=multi-user.target
</code></pre>
<p>Save and exit the editor.</p>
<h3>6.4. Enable and Start The Service</h3>
<pre><code>sudo systemctl enable ipcheck.service
sudo systemctl start ipcheck.service
</code></pre>
<h3>6.5. Test the Service</h3>
<p>Check the recent logs to verify the service is working:</p>
<pre><code>sudo journalctl -n 20
</code></pre>
</details>
</summary><!-- HTML Footer Start -->

</body>
</html>

<!-- HTML Footer End -->
