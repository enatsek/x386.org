<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Debian Packaging | Debian & Ubuntu Tutorials</title><link rel="shortcut icon" href="/./src/assets/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.16.6"/><meta name="generator" content="Starlight v0.37.1"/><meta property="og:title" content="Debian Packaging"/><meta property="og:type" content="article"/><meta property="og:locale" content="en"/><meta property="og:description" content="Creating and managing .deb packages"/><meta property="og:site_name" content="Debian &#38; Ubuntu Tutorials"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="Creating and managing .deb packages"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.0vIKbS8r.css"><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt src="/_astro/logo.Br7QL1LC.png" width="734" height="349">  <span class="astro-m46x6ez3" translate="no"> Debian &amp; Ubuntu Tutorials </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/enatsek/" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="16s7f48" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Site Info</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/generics/about/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">About</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generics/license/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">License</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generics/privacypolicy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Privacy Policy</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Web Services &amp; HTTPS</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/apache/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Apache Web Server</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/nginx/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Nginx Web Server</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/certbot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Certbot</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lamp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LAMP Stack</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lapp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LAPP Stack</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/wordpress/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">WordPress</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/adminer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adminer Tool</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Database Management</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/mariadb/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MariaDB</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/mariadbcluster/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MariaDB Cluster</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/postgresdebian/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">PostgreSQL (Debian)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/postgresubuntu/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">PostgreSQL (Ubuntu)</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Networking</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/networkdebian/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Debian Network Configuration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/networkubuntu/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Ubuntu Network Configuration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/ufw/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">UFW (Uncomplicated Firewall)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/shvpn/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Self-Hosted VPN</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/s2svpn/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Site-to-Site VPN</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Infrastructure &amp; Virtualization</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/kvm1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">KVM Virtualization (Beginner)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/kvm2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">KVM Virtualization (Networking)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/keepalived/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Keepalived</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/haproxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">HAProxy</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/ansible/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Ansible</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lvm/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LVM (Logical Volume Management)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/dns/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DNS</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/ad/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Active Directory</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/nodejs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Node.js</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">System Administration Guides</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/useradministration/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">User and Group Administration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/etcfolder/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">/etc Folder Contents</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/regex/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Regular Expressions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/filecompression/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">File Compression</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/fhs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">FHS (Filesystem Hierarchy Standard)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/systemd/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Systemd Basics</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/systemd2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Systemd Additional</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/debpackaging/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Debian Packaging</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/otherlinuxes/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Other Linux Distributions</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <a href="https://github.com/enatsek/" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#0-specs" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">0. Specs</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#01-the-what" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.1. The What</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#02-the-environment" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.2. The Environment</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#03-sources" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.3. Sources</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-basic-information" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1. Basic Information</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#11-package-types" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.1. Package Types:</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#12-package-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.2. Package Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#13-deb-package-manipulation" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.3. .deb Package Manipulation</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#2-package-control-files" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">2. Package Control Files</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#21-control" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.1. control</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#22-conffiles" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.2. conffiles</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#23-preinst" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.3. preinst</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#24-postinst" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.4. postinst</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#25-prerm" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.5. prerm</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#26-postrm" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.6. postrm</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#27-config" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.7. config</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#28-templates" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.8. templates</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#29-md5sums" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.9. md5sums</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#210-triggers" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.10. triggers</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#211-symbols-and-shlibs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.11. symbols and shlibs</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#3-package-data-files" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3. Package Data Files</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#31-basics" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.1. Basics</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#32-file-locations" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.2. File Locations</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#4-package-installation-process" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">4. Package Installation Process</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#5-package-removalpurge-process" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">5. Package Removal/Purge Process</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#6-deb-package-preparation-checklist" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">6. .deb Package Preparation Checklist</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#61-create-file-and-folder-structure-for-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.1. Create File and Folder Structure for the Package</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#62-copy-files" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.2. Copy Files</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#63-preparing-and-building-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.3. Preparing and Building The Package</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#7-a-very-simple-package" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">7. A Very Simple Package</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#71-create-folder-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.1. Create Folder Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#72-create-the-executable-file" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.2. Create the Executable File</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#73-create-the-control-file" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.3. Create the Control File</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#74-build-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.4. Build the package</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#8-a-more-complex-package-watchbox" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">8. A More Complex Package: Watchbox</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#80-about-watchbox" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.0. About Watchbox</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#81-download-watchbox-files" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.1. Download Watchbox Files</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#82-folder-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.2. Folder Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#83-create-folder-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.3. Create Folder Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#84-copy-watchbox-files-to-their-locations" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.4. Copy Watchbox Files to Their Locations</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#85-create-control-files-and-maintenance-scripts" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.5. Create Control Files and Maintenance Scripts</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#86-build-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.6. Build the Package</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#0-specs" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">0. Specs</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#01-the-what" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.1. The What</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#02-the-environment" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.2. The Environment</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#03-sources" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.3. Sources</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-basic-information" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1. Basic Information</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#11-package-types" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.1. Package Types:</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#12-package-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.2. Package Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#13-deb-package-manipulation" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.3. .deb Package Manipulation</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#2-package-control-files" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">2. Package Control Files</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#21-control" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.1. control</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#22-conffiles" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.2. conffiles</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#23-preinst" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.3. preinst</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#24-postinst" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.4. postinst</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#25-prerm" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.5. prerm</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#26-postrm" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.6. postrm</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#27-config" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.7. config</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#28-templates" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.8. templates</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#29-md5sums" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.9. md5sums</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#210-triggers" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.10. triggers</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#211-symbols-and-shlibs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.11. symbols and shlibs</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#3-package-data-files" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3. Package Data Files</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#31-basics" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.1. Basics</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#32-file-locations" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.2. File Locations</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#4-package-installation-process" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">4. Package Installation Process</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#5-package-removalpurge-process" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">5. Package Removal/Purge Process</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#6-deb-package-preparation-checklist" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">6. .deb Package Preparation Checklist</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#61-create-file-and-folder-structure-for-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.1. Create File and Folder Structure for the Package</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#62-copy-files" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.2. Copy Files</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#63-preparing-and-building-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.3. Preparing and Building The Package</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#7-a-very-simple-package" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">7. A Very Simple Package</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#71-create-folder-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.1. Create Folder Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#72-create-the-executable-file" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.2. Create the Executable File</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#73-create-the-control-file" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.3. Create the Control File</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#74-build-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.4. Build the package</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#8-a-more-complex-package-watchbox" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">8. A More Complex Package: Watchbox</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#80-about-watchbox" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.0. About Watchbox</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#81-download-watchbox-files" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.1. Download Watchbox Files</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#82-folder-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.2. Folder Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#83-create-folder-structure" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.3. Create Folder Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#84-copy-watchbox-files-to-their-locations" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.4. Copy Watchbox Files to Their Locations</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#85-create-control-files-and-maintenance-scripts" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.5. Create Control Files and Maintenance Scripts</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#86-build-the-package" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">8.6. Build the Package</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Debian Packaging</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <div class="sl-heading-wrapper level-h5"><h5 id="creating-and-managing-deb-packages">Creating and managing .deb packages</h5><a class="sl-anchor-link" href="#creating-and-managing-deb-packages"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Creating and managing .deb packages”</span></a></div>
<div class="sl-heading-wrapper level-h2"><h2 id="0-specs">0. Specs</h2><a class="sl-anchor-link" href="#0-specs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “0. Specs”</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="01-the-what">0.1. The What</h3><a class="sl-anchor-link" href="#01-the-what"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “0.1. The What”</span></a></div>
<p>This tutorial covers the creation of a <code dir="auto">.deb</code> package. A <code dir="auto">.deb</code> package is a compressed archive of files used to install software on Debian GNU/Linux and Ubuntu systems.</p>
<p>As Debian or Ubuntu users, we typically use the <code dir="auto">apt</code> command to install programs or services. In the background, <code dir="auto">.deb</code> files are the actual packages being installed.</p>
<p>Our goal is to create and use a <code dir="auto">.deb</code> package. Note that creating a completely new Debian package from scratch is a broader topic—a superset of what we’ll cover here—and could be the subject of a separate tutorial.</p>
<p>This tutorial is introductory and does not cover every detail. Its purpose is to help you create a simple package.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="02-the-environment">0.2. The Environment</h3><a class="sl-anchor-link" href="#02-the-environment"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “0.2. The Environment”</span></a></div>
<p><strong>Workstation:</strong> Debian 13 or Ubuntu 24.04 LTS<br>
<strong>Test Servers:</strong> Ubuntu 24.04 LTS, Ubuntu 22.04 LTS, Debian 13, Debian 12.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="03-sources">0.3. Sources</h3><a class="sl-anchor-link" href="#03-sources"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “0.3. Sources”</span></a></div>
<ul>
<li><a href="https://www.debian.org/doc/debian-policy/">www.debian.org</a></li>
<li><a href="https://www.debian.org/doc/manuals/maint-guide/dother.en.html">www.debian.org</a></li>
<li><a href="https://tldp.org/HOWTO/html_single/Debian-Binary-Package-Building-HOWTO/">tldp.org</a></li>
<li><a href="https://github.com/rsm-gh/build-deb/blob/master/DEBIAN_BASICS.md">github.com</a></li>
</ul>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="1-basic-information">1. Basic Information</h2><a class="sl-anchor-link" href="#1-basic-information"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1. Basic Information”</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="11-package-types">1.1. Package Types:</h3><a class="sl-anchor-link" href="#11-package-types"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1.1. Package Types:”</span></a></div>
<p><code dir="auto">.deb</code> packages can be either <strong>source packages</strong> or <strong>binary packages</strong>. As the names suggest, source packages contain source code, while binary packages contain compiled executables or scripts.</p>
<p>According to the Debian Policy Manual: <em>A Debian source package contains the source material used to construct one or more binary packages.</em></p>
<p>In this tutorial, we will focus on <strong>binary packages</strong>.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="12-package-structure">1.2. Package Structure</h3><a class="sl-anchor-link" href="#12-package-structure"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1.2. Package Structure”</span></a></div>
<p>A <code dir="auto">.deb</code> package follows a specific naming format and contains three main files:</p>
<p><strong>Format:</strong> <code dir="auto">packagename_version-revision_architecture.deb</code><br>
<strong>Example:</strong> <code dir="auto">apache2_2.4.52-1debian4.4_amd64.deb</code></p>
<p><strong>Internal files:</strong></p>
<ol>
<li>
<p><strong><code dir="auto">debian-binary</code></strong><br>
Contains the Debian package format version, typically just <code dir="auto">2.0</code>.</p>
</li>
<li>
<p><strong><code dir="auto">data.tar.zst</code></strong><br>
A compressed archive of files organized in directory structure. When the package is installed, these files are extracted to their corresponding locations in the filesystem. The extension may vary if a different compression method is used (e.g., <code dir="auto">.gz</code>, <code dir="auto">.xz</code>).</p>
</li>
<li>
<p><strong><code dir="auto">control.tar.zst</code></strong><br>
A compressed archive of control and maintenance scripts. Common files include:</p>
<ul>
<li><strong><code dir="auto">control</code></strong>: Metadata about the package (name, version, dependencies, etc.)</li>
<li><strong><code dir="auto">conffiles</code></strong>: A list of configuration files that should be preserved during upgrades</li>
<li><strong><code dir="auto">preinst</code></strong>: Scripts executed <strong>before</strong> the package is unpacked (e.g., stopping services before an upgrade)</li>
<li><strong><code dir="auto">postinst</code></strong>: Scripts executed <strong>after</strong> the package is unpacked (e.g., starting services, updating system caches)</li>
<li><strong><code dir="auto">prerm</code></strong>: Scripts executed <strong>before</strong> the package is removed (e.g., stopping services)</li>
<li><strong><code dir="auto">postrm</code></strong>: Scripts executed <strong>after</strong> the package is removed (e.g., cleaning up temporary files)</li>
</ul>
</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="13-deb-package-manipulation">1.3. .deb Package Manipulation</h3><a class="sl-anchor-link" href="#13-deb-package-manipulation"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1.3. .deb Package Manipulation”</span></a></div>
<p><code dir="auto">.deb</code> packages can be installed directly using <code dir="auto">apt</code>:</p>
<p><strong>Install a package:</strong></p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt install ./&#x3C;package></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt install ./test.deb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt install ./<package>sudo apt install ./test.deb"><div></div></button></div></figure></div>
<p><strong>Remove a package:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt remove &#x3C;appname></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt remove test</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt remove <appname>sudo apt remove test"><div></div></button></div></figure></div>
<p><strong>Purge a package</strong> (removes configuration files as well):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt purge &#x3C;appname></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt purge test</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt purge <appname>sudo apt purge test"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="2-package-control-files">2. Package Control Files</h2><a class="sl-anchor-link" href="#2-package-control-files"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2. Package Control Files”</span></a></div>
<hr>
<p>Control files are located in the <code dir="auto">control.tar.zst</code> archive. Some key files were listed in Section 1.2. Below is a more comprehensive list with brief descriptions; important files are covered in greater detail.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="21-control">2.1. <code dir="auto">control</code></h3><a class="sl-anchor-link" href="#21-control"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.1. control”</span></a></div>
<p>This file contains metadata used by package managers. It consists of fields and their corresponding values.</p>
<p>Most fields have single-line values, but some support multiple lines. For multi-line fields, each line after the first must begin with a space or tab.</p>
<p><strong>Fields in a binary package:</strong></p>
<ul>
<li>
<p><strong><code dir="auto">Package</code></strong> (Mandatory): Name of the package. May contain alphanumeric characters, hyphens (<code dir="auto">-</code>), and periods (<code dir="auto">.</code>).<br>
Example: <code dir="auto">openssh-server</code></p>
</li>
<li>
<p><strong><code dir="auto">Source</code></strong>: Name of the source package.<br>
Example: <code dir="auto">openssh</code></p>
</li>
<li>
<p><strong><code dir="auto">Version</code></strong> (Mandatory): Package version. Format: <code dir="auto">[epoch:]upstream_version-debian_revision</code>. The epoch is optional.<br>
Example: <code dir="auto">1:8.9p1-3</code></p>
</li>
<li>
<p><strong><code dir="auto">Section</code></strong> (Recommended): Software category (e.g., <code dir="auto">admin</code>, <code dir="auto">database</code>, <code dir="auto">httpd</code>, <code dir="auto">java</code>).</p>
</li>
<li>
<p><strong><code dir="auto">Priority</code></strong> (Recommended): Indicates the importance of the package:</p>
<ul>
<li><strong><code dir="auto">required</code></strong>: Essential for system functionality.</li>
<li><strong><code dir="auto">important</code></strong>: Expected on every Linux system.</li>
<li><strong><code dir="auto">standard</code></strong>: Installed by default; must not conflict with other standard packages.</li>
<li><strong><code dir="auto">optional</code></strong>: Most packages fall here; may conflict with others.</li>
</ul>
</li>
<li>
<p><strong><code dir="auto">Architecture</code></strong> (Mandatory): Target architecture (e.g., <code dir="auto">amd64</code>, <code dir="auto">arm64</code>, <code dir="auto">i386</code>, <code dir="auto">powerpc</code>, <code dir="auto">sparc</code>, <code dir="auto">all</code>).</p>
</li>
<li>
<p><strong><code dir="auto">Essential</code></strong>: If set to <code dir="auto">yes</code>, the package manager will refuse to remove it. Usually set to <code dir="auto">no</code> or omitted.</p>
</li>
<li>
<p><strong><code dir="auto">Depends</code></strong>: Absolute dependencies; this package will not be configured unless all listed packages are configured.</p>
</li>
<li>
<p><strong><code dir="auto">Pre-Depends</code></strong>: Like <code dir="auto">Depends</code>, but dependencies must be configured <strong>before</strong> unpacking this package (use sparingly).</p>
</li>
<li>
<p><strong><code dir="auto">Recommends</code></strong>: Strong but optional dependencies.</p>
</li>
<li>
<p><strong><code dir="auto">Suggests</code></strong>: Suggested packages that enhance functionality.</p>
</li>
<li>
<p><strong><code dir="auto">Enhances</code></strong>: Inverse of <code dir="auto">Suggests</code>; indicates that other packages are more useful with this package.</p>
</li>
<li>
<p><strong><code dir="auto">Breaks</code></strong>: This package breaks listed packages; they must be unconfigured before installation.</p>
</li>
<li>
<p><strong><code dir="auto">Conflicts</code></strong>: Stronger than <code dir="auto">Breaks</code>; conflicting packages must be removed before installation.</p>
</li>
<li>
<p><strong><code dir="auto">Installed-Size</code></strong>: Estimated disk space (in kilobytes) required after installation.</p>
</li>
<li>
<p><strong><code dir="auto">Maintainer</code></strong> (Mandatory): Name and email of the maintainer.<br>
Example: <code dir="auto">Exforge &#x3C;exforge@x386.org></code></p>
</li>
<li>
<p><strong><code dir="auto">Description</code></strong> (Mandatory): Package description. The first line is a short summary; subsequent lines provide detailed information.</p>
</li>
<li>
<p><strong><code dir="auto">Homepage</code></strong>: URL of the package’s website.</p>
</li>
<li>
<p><strong><code dir="auto">Built-Using</code></strong>: Packages required during build but not runtime.</p>
</li>
<li>
<p><strong>User-defined fields</strong> may also appear. Ubuntu adds <code dir="auto">Original-Maintainer</code> to preserve Debian maintainer information.</p>
</li>
</ul>
<p><strong>Example: <code dir="auto">apache2</code> control file (Debian 13):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Package: apache2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Version: 2.4.65-2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Architecture: amd64</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Maintainer: Debian Apache Maintainers &#x3C;debian-apache@lists.debian.org></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Installed-Size: 576</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Pre-Depends: init-system-helpers (>= 1.54~)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Depends: apache2-bin (= 2.4.65-2), apache2-data (= 2.4.65-2), apache2-utils (= 2.4.65-2), media-types, procps, perl:any</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Recommends: ssl-cert</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Suggests: apache2-doc, apache2-suexec-pristine | apache2-suexec-custom, ufw, www-browser</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Provides: httpd, httpd-cgi</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Section: httpd</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Priority: optional</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Homepage: https://httpd.apache.org/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Description: Apache HTTP Server</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">The Apache HTTP Server Project's goal is to build a secure, efficient and</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">extensible HTTP server as standards-compliant open source software. The</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">result has long been the number one web server on the Internet.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">Installing this package results in a full installation, including the</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">configuration files, init scripts and support scripts.</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Package: apache2Version: 2.4.65-2Architecture: amd64Maintainer: Debian Apache Maintainers <debian-apache@lists.debian.org>Installed-Size: 576Pre-Depends: init-system-helpers (>= 1.54~)Depends: apache2-bin (= 2.4.65-2), apache2-data (= 2.4.65-2), apache2-utils (= 2.4.65-2), media-types, procps, perl:anyRecommends: ssl-certSuggests: apache2-doc, apache2-suexec-pristine | apache2-suexec-custom, ufw, www-browserProvides: httpd, httpd-cgiSection: httpdPriority: optionalHomepage: https://httpd.apache.org/Description: Apache HTTP Server The Apache HTTP Server Project&#x27;s goal is to build a secure, efficient and extensible HTTP server as standards-compliant open source software. The result has long been the number one web server on the Internet. . Installing this package results in a full installation, including the configuration files, init scripts and support scripts."><div></div></button></div></figure></div>
<p><strong>Example: <code dir="auto">openssh-server</code> control file (Debian 13):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Package: openssh-server</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Source: openssh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Version: 1:10.0p1-7</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Architecture: amd64</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Maintainer: Debian OpenSSH Maintainers &#x3C;debian-ssh@lists.debian.org></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Installed-Size: 3429</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Pre-Depends: init-system-helpers (>= 1.54~)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Depends: libpam-modules, libpam-runtime, lsb-base, openssh-client (= 1:10.0p1-7), openssh-sftp-server, procps, ucf, debconf (>= 0.5) | debconf-2.0, runit-helper (>= 2.14.0~), systemd | systemd-standalone-sysusers | systemd-sysusers, libaudit1 (>= 1:2.2.1), libc6 (>= 2.38), libcom-err2 (>= 1.43.9), libcrypt1 (>= 1:4.1.0), libgssapi-krb5-2 (>= 1.17), libkrb5-3 (>= 1.13~alpha1+dfsg), libpam0g (>= 0.99.7.1), libselinux1 (>= 3.1~), libssl3t64 (>= 3.0.0), libwrap0 (>= 7.6-4~), libwtmpdb0 (>= 0.13.0), zlib1g (>= 1:1.1.4)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Recommends: default-logind | logind | libpam-systemd, ncurses-term, xauth</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Suggests: molly-guard, monkeysphere, ssh-askpass, ufw</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Conflicts: sftp, ssh-socks, ssh2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Breaks: runit (&#x3C;&#x3C; 2.1.2-51~)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Replaces: openssh-client (&#x3C;&#x3C; 1:7.9p1-8), ssh, ssh-krb5</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Provides: ssh-server</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Section: net</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Priority: optional</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Multi-Arch: foreign</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Homepage: https://www.openssh.com/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Description: secure shell (SSH) server, for secure access from remote machines</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">This is the portable version of OpenSSH, a free implementation of</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">the Secure Shell protocol as specified by the IETF secsh working</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">group.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">Ssh (Secure Shell) is a program for logging into a remote machine</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">and for executing commands on a remote machine.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">It provides secure encrypted communications between two untrusted</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">hosts over an insecure network. X11 connections and arbitrary TCP/IP</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">ports can also be forwarded over the secure channel.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">It can be used to provide applications with a secure communication</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">channel.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">This package provides the sshd server.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">In some countries it may be illegal to use any encryption at all</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">without a special permit.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">sshd replaces the insecure rshd program, which is obsolete for most</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">purposes.</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Package: openssh-serverSource: opensshVersion: 1:10.0p1-7Architecture: amd64Maintainer: Debian OpenSSH Maintainers <debian-ssh@lists.debian.org>Installed-Size: 3429Pre-Depends: init-system-helpers (>= 1.54~)Depends: libpam-modules, libpam-runtime, lsb-base, openssh-client (= 1:10.0p1-7), openssh-sftp-server, procps, ucf, debconf (>= 0.5) | debconf-2.0, runit-helper (>= 2.14.0~), systemd | systemd-standalone-sysusers | systemd-sysusers, libaudit1 (>= 1:2.2.1), libc6 (>= 2.38), libcom-err2 (>= 1.43.9), libcrypt1 (>= 1:4.1.0), libgssapi-krb5-2 (>= 1.17), libkrb5-3 (>= 1.13~alpha1+dfsg), libpam0g (>= 0.99.7.1), libselinux1 (>= 3.1~), libssl3t64 (>= 3.0.0), libwrap0 (>= 7.6-4~), libwtmpdb0 (>= 0.13.0), zlib1g (>= 1:1.1.4)Recommends: default-logind | logind | libpam-systemd, ncurses-term, xauthSuggests: molly-guard, monkeysphere, ssh-askpass, ufwConflicts: sftp, ssh-socks, ssh2Breaks: runit (<< 2.1.2-51~)Replaces: openssh-client (<< 1:7.9p1-8), ssh, ssh-krb5Provides: ssh-serverSection: netPriority: optionalMulti-Arch: foreignHomepage: https://www.openssh.com/Description: secure shell (SSH) server, for secure access from remote machines This is the portable version of OpenSSH, a free implementation of the Secure Shell protocol as specified by the IETF secsh working group. . Ssh (Secure Shell) is a program for logging into a remote machine and for executing commands on a remote machine. It provides secure encrypted communications between two untrusted hosts over an insecure network. X11 connections and arbitrary TCP/IP ports can also be forwarded over the secure channel. It can be used to provide applications with a secure communication channel. . This package provides the sshd server. . In some countries it may be illegal to use any encryption at all without a special permit. . sshd replaces the insecure rshd program, which is obsolete for most purposes."><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="22-conffiles">2.2. <code dir="auto">conffiles</code></h3><a class="sl-anchor-link" href="#22-conffiles"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.2. conffiles”</span></a></div>
<p>Lists configuration files that should be preserved during upgrades. Users are warned if they have modified these files.</p>
<p><strong>Example from <code dir="auto">openssh-server</code> (Ubuntu 22.04 LTS):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/default/ssh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/init.d/ssh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/pam.d/sshd</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/ssh/moduli</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/sv/ssh/.meta/installed</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/sv/ssh/finish</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/sv/ssh/log/run</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/sv/ssh/run</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/ufw/applications.d/openssh-server</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="/etc/default/ssh/etc/init.d/ssh/etc/pam.d/sshd/etc/ssh/moduli/etc/sv/ssh/.meta/installed/etc/sv/ssh/finish/etc/sv/ssh/log/run/etc/sv/ssh/run/etc/ufw/applications.d/openssh-server"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="23-preinst">2.3. preinst</h3><a class="sl-anchor-link" href="#23-preinst"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.3. preinst”</span></a></div>
<p>Script executed <strong>before</strong> unpacking the package. Must be idempotent (can run more than once without any problems), start with a shebang (<code dir="auto">#!</code>), and return <code dir="auto">0</code> on success.</p>
<p><strong>Call scenarios:</strong></p>
<ul>
<li><code dir="auto">new-preinst install</code> – Before initial installation.</li>
<li><code dir="auto">new-preinst install old-version new-version</code> – Before upgrading a removed package.</li>
<li><code dir="auto">new-preinst upgrade old-version new-version</code> – Before package upgrade.</li>
<li><code dir="auto">old-preinst abort-upgrade new-version</code> – If <code dir="auto">postrm</code> fails during upgrade.</li>
</ul>
<p><strong>Excerpt from <code dir="auto">apache2</code> <code dir="auto">preinst</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">case "$1" in</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">upgrade|install)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">if dpkg --compare-versions "$2" lt-nl "2.4.23-3~" ; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">list_fixup_conffiles | replace_broken_conffiles</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">abort-upgrade)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">list_fixup_conffiles | revert_broken_conffiles</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">*)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">echo "preinst called with unknown argument \`$1'" >&#x26;2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">exit 1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">esac</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="case &#x22;$1&#x22; in    upgrade|install)  if dpkg --compare-versions &#x22;$2&#x22; lt-nl &#x22;2.4.23-3~&#x22; ; then    list_fixup_conffiles | replace_broken_conffiles  fi    ;;    abort-upgrade)    list_fixup_conffiles | revert_broken_conffiles    ;;    *)  echo &#x22;preinst called with unknown argument \&#x60;$1&#x27;&#x22; >&#x26;2  exit 1    ;;esac"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="24-postinst">2.4. <code dir="auto">postinst</code></h3><a class="sl-anchor-link" href="#24-postinst"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.4. postinst”</span></a></div>
<p>Script executed <strong>after</strong> unpacking the package. Must be idempotent, start with a shebang, and return <code dir="auto">0</code> on success.</p>
<p><strong>Call scenarios:</strong></p>
<ul>
<li><code dir="auto">postinst configure old-version</code> – After installation.</li>
<li><code dir="auto">old-postinst abort-upgrade new-version</code> – If <code dir="auto">prerm</code> fails during upgrade.</li>
<li><code dir="auto">old-postinst abort-remove</code> – If <code dir="auto">prerm</code> fails during removal.</li>
<li><code dir="auto">postinst abort-deconfigure in-favour new-package new-version [...]</code> – If <code dir="auto">prerm</code> fails during deconfiguration due to conflict.</li>
</ul>
<p><strong>Excerpt from <code dir="auto">apache2</code> <code dir="auto">postinst</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">is_fresh_install()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">if [ -z "$2" ] ; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">return 0</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">return 1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">}</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="is_fresh_install(){  if [ -z &#x22;$2&#x22; ] ; then    return 0  fi  return 1}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">case "$1" in</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">configure)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">enable_default_mpm $@</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">install_default_files $@</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">enable_default_modules $@</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">enable_default_conf $@</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">install_default_site $@</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">execute_deferred_actions</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">abort-upgrade)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">abort-remove|abort-deconfigure)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">*)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">echo "postinst called with unknown argument \`$1'" >&#x26;2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">exit 1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">;;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">esac</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="case &#x22;$1&#x22; in  configure)    enable_default_mpm $@    install_default_files $@    enable_default_modules $@    enable_default_conf $@    install_default_site $@    execute_deferred_actions  ;;  abort-upgrade)  ;;  abort-remove|abort-deconfigure)  ;;  *)    echo &#x22;postinst called with unknown argument \&#x60;$1&#x27;&#x22; >&#x26;2    exit 1  ;;esac"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="25-prerm">2.5. <code dir="auto">prerm</code></h3><a class="sl-anchor-link" href="#25-prerm"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.5. prerm”</span></a></div>
<p>Script executed <strong>before</strong> removing a package. Must be idempotent, start with a shebang, and return <code dir="auto">0</code> on success.</p>
<p><strong>Call scenarios:</strong></p>
<ul>
<li><code dir="auto">prerm remove</code> – Before removal.</li>
<li><code dir="auto">old-prerm upgrade new-version</code> – Before upgrade.</li>
<li><code dir="auto">new-prerm failed-upgrade old-version new-version</code> – If upgrade fails.</li>
<li><code dir="auto">prerm deconfigure in-favour new-package new-version</code> – Before deconfiguration due to conflict.</li>
<li><code dir="auto">prerm remove in-favour new-package new-version</code> – Before replacement due to conflict.</li>
</ul>
<p><strong>Example from <code dir="auto">mariadb-server</code> <code dir="auto">prerm</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">#!/bin/sh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">set -e</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># Automatically added by dh_installsystemd/13.24.2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">if [ -z "$DPKG_ROOT" ] &#x26;&#x26; [ "$1" = remove ] &#x26;&#x26; [ -d /run/systemd/system ] ; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">deb-systemd-invoke stop 'mariadb.service' >/dev/null || true</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># End automatically added section</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># Automatically added by dh_installinit/13.24.2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">if [ -z "$DPKG_ROOT" ] &#x26;&#x26; [ "$1" = remove ] &#x26;&#x26; [ -x "/etc/init.d/mariadb" ] ; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">invoke-rc.d --skip-systemd-native mariadb stop || exit 1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># End automatically added section</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/bin/shset -e# Automatically added by dh_installsystemd/13.24.2if [ -z &#x22;$DPKG_ROOT&#x22; ] &#x26;&#x26; [ &#x22;$1&#x22; = remove ] &#x26;&#x26; [ -d /run/systemd/system ] ; then  deb-systemd-invoke stop &#x27;mariadb.service&#x27; >/dev/null || truefi# End automatically added section# Automatically added by dh_installinit/13.24.2if [ -z &#x22;$DPKG_ROOT&#x22; ] &#x26;&#x26; [ &#x22;$1&#x22; = remove ] &#x26;&#x26; [ -x &#x22;/etc/init.d/mariadb&#x22; ] ; then  invoke-rc.d --skip-systemd-native mariadb stop || exit 1fi# End automatically added section"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="26-postrm">2.6. postrm</h3><a class="sl-anchor-link" href="#26-postrm"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.6. postrm”</span></a></div>
<p>Script executed <strong>after</strong> removing a package. Must be idempotent, start with a shebang, and return <code dir="auto">0</code> on success.</p>
<p><strong>Call scenarios:</strong></p>
<ul>
<li><code dir="auto">postrm remove</code> – After removal.</li>
<li><code dir="auto">postrm purge</code> – After purging.</li>
<li><code dir="auto">old-postrm upgrade new-version</code> – After upgrade.</li>
<li><code dir="auto">new-postrm failed-upgrade old-version new-version</code> – If upgrade fails.</li>
<li><code dir="auto">postrm disappear overwriter-package overwriter-version</code> – After files are overwritten.</li>
<li><code dir="auto">new-postrm abort-install</code> – If <code dir="auto">preinst</code> fails during installation.</li>
</ul>
<p><strong>Excerpt from <code dir="auto">openssh-server</code> <code dir="auto">postrm</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">if [ "$1" = remove ] &#x26;&#x26; [ -d /run/systemd/system ] ; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">systemctl --system daemon-reload >/dev/null || true</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">if [ "$1" = "purge" ]; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">if [ -x "/usr/bin/deb-systemd-helper" ]; then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">deb-systemd-helper purge 'sshd-keygen.service' >/dev/null || true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="if [ &#x22;$1&#x22; = remove ] &#x26;&#x26; [ -d /run/systemd/system ] ; then  systemctl --system daemon-reload >/dev/null || truefiif [ &#x22;$1&#x22; = &#x22;purge&#x22; ]; then  if [ -x &#x22;/usr/bin/deb-systemd-helper&#x22; ]; then    deb-systemd-helper purge &#x27;sshd-keygen.service&#x27; >/dev/null || true  fifi"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="27-config">2.7. <code dir="auto">config</code></h3><a class="sl-anchor-link" href="#27-config"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.7. config”</span></a></div>
<p>Script run <strong>before</strong> <code dir="auto">preinst</code>, before any pre-dependencies are satisfied. Used to prompt the user for configuration decisions.</p>
<p><strong>Example from <code dir="auto">mariadb-server</code> <code dir="auto">config</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">#!/bin/bash</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">set -e</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># shellcheck source=/dev/null</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">. /usr/share/debconf/confmodule</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">if [ -n "$DEBIAN_SCRIPT_DEBUG" ]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">set -v -x; DEBIAN_SCRIPT_TRACE=1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">${DEBIAN_SCRIPT_TRACE:+ echo "#42#DEBUG# RUNNING $0 $*" 1>&#x26;2}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># Beware that there are two ypwhich one of them needs the 2>/dev/null!</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">if test -n "$(command -v ypwhich 2>/dev/null)" &#x26;&#x26; ypwhich > /dev/null 2>&#x26;1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">then</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">db_input high mariadb-server/nis_warning || true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">db_go</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">fi</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/bin/bashset -e# shellcheck source=/dev/null. /usr/share/debconf/confmoduleif [ -n &#x22;$DEBIAN_SCRIPT_DEBUG&#x22; ]then  set -v -x; DEBIAN_SCRIPT_TRACE=1fi${DEBIAN_SCRIPT_TRACE:+ echo &#x22;#42#DEBUG# RUNNING $0 $*&#x22; 1>&#x26;2}# Beware that there are two ypwhich one of them needs the 2>/dev/null!if test -n &#x22;$(command -v ypwhich 2>/dev/null)&#x22; &#x26;&#x26; ypwhich > /dev/null 2>&#x26;1then  db_input high mariadb-server/nis_warning || true  db_gofi"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="28-templates">2.8. <code dir="auto">templates</code></h3><a class="sl-anchor-link" href="#28-templates"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.8. templates”</span></a></div>
<p>Contains templates for user prompts (used with <code dir="auto">debconf</code>).</p>
<p><strong>Excerpt from <code dir="auto">openssh-server</code> <code dir="auto">templates</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Template: openssh-server/password-authentication</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Type: boolean</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Default: true</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Description: Allow password authentication?</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">By default, the SSH server will allow authenticating using a password.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">You may want to change this if all users on this system authenticate using</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53"> </span></span><span style="--0:#d6deeb;--1:#403f53">a stronger authentication method, such as public keys.</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Template: openssh-server/password-authenticationType: booleanDefault: trueDescription: Allow password authentication? By default, the SSH server will allow authenticating using a password. You may want to change this if all users on this system authenticate using a stronger authentication method, such as public keys."><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="29-md5sums">2.9. <code dir="auto">md5sums</code></h3><a class="sl-anchor-link" href="#29-md5sums"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.9. md5sums”</span></a></div>
<p>MD5 hashes of package files for integrity verification.</p>
<p><strong>Excerpt from <code dir="auto">openssh-server</code> <code dir="auto">md5sums</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">4b50d38888a7c2093ea4928dca327287  usr/lib/openssh/ssh-session-cleanup</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">36b4eaabb3472c543e7e9e7c0c80a014  usr/lib/openssh/sshd-auth</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">269cc6f51c160b60b0f714ee2f1f434d  usr/lib/openssh/sshd-session</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">8ec138e332aa1fbc3f081c17e81b62f9  usr/lib/systemd/system/rescue-ssh.target</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">0cbed0c937f53a8d3e9372faa6c23e4c  usr/lib/systemd/system/ssh.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">144e44ecb5dfaa27337b7e5d6348e9fa  usr/lib/systemd/system/ssh.socket</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">a09b0c24335b507ec5c9f100f9ba3b15  usr/lib/systemd/system/sshd-keygen.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">09582565e7d6ab3f1f15293d0bc9ab97  usr/lib/systemd/system/sshd@.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">3890b397321c96e14ef5627d1ea251d0  usr/lib/sysusers.d/openssh-server.conf</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">550889177dce3b36aa2717e88c9bf7e1  usr/lib/tmpfiles.d/openssh-server.conf</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">283a135db1d5bf7fbe7483fe56269dfc  usr/sbin/sshd</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">f410eed89eecfb2bcf29440141a49d4f  usr/share/apport/package-hooks/openssh-server.py</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">77862d01cdeb1232790155687382fdad  usr/share/doc/openssh-client/examples/ssh-session-cleanup.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">931ec2a78f8e7e9b8971416497aecc5b  usr/share/lintian/overrides/openssh-server</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">58d232b99ab4d6c8fde0c12a98b8841c  usr/share/man/man5/moduli.5.gz</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">18f27d1ef2de5f84a601ffefa20568d2  usr/share/man/man5/sshd_config.5.gz</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">5a9a2a3ffa3b98bb9bfb77f057fada68  usr/share/man/man8/sshd.8.gz</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">0382ac8785a147d5a10f3fa0cdfd8eb5  usr/share/openssh/sshd_config</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">07e75bae4aeca2bbf7bb42ba6af88a7d  usr/share/openssh/sshd_config.md5sum</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">d41d8cd98f00b204e9800998ecf8427e  usr/share/runit/meta/ssh/installed</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="4b50d38888a7c2093ea4928dca327287  usr/lib/openssh/ssh-session-cleanup36b4eaabb3472c543e7e9e7c0c80a014  usr/lib/openssh/sshd-auth269cc6f51c160b60b0f714ee2f1f434d  usr/lib/openssh/sshd-session8ec138e332aa1fbc3f081c17e81b62f9  usr/lib/systemd/system/rescue-ssh.target0cbed0c937f53a8d3e9372faa6c23e4c  usr/lib/systemd/system/ssh.service144e44ecb5dfaa27337b7e5d6348e9fa  usr/lib/systemd/system/ssh.socketa09b0c24335b507ec5c9f100f9ba3b15  usr/lib/systemd/system/sshd-keygen.service09582565e7d6ab3f1f15293d0bc9ab97  usr/lib/systemd/system/sshd@.service3890b397321c96e14ef5627d1ea251d0  usr/lib/sysusers.d/openssh-server.conf550889177dce3b36aa2717e88c9bf7e1  usr/lib/tmpfiles.d/openssh-server.conf283a135db1d5bf7fbe7483fe56269dfc  usr/sbin/sshdf410eed89eecfb2bcf29440141a49d4f  usr/share/apport/package-hooks/openssh-server.py77862d01cdeb1232790155687382fdad  usr/share/doc/openssh-client/examples/ssh-session-cleanup.service931ec2a78f8e7e9b8971416497aecc5b  usr/share/lintian/overrides/openssh-server58d232b99ab4d6c8fde0c12a98b8841c  usr/share/man/man5/moduli.5.gz18f27d1ef2de5f84a601ffefa20568d2  usr/share/man/man5/sshd_config.5.gz5a9a2a3ffa3b98bb9bfb77f057fada68  usr/share/man/man8/sshd.8.gz0382ac8785a147d5a10f3fa0cdfd8eb5  usr/share/openssh/sshd_config07e75bae4aeca2bbf7bb42ba6af88a7d  usr/share/openssh/sshd_config.md5sumd41d8cd98f00b204e9800998ecf8427e  usr/share/runit/meta/ssh/installed"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="210-triggers">2.10. <code dir="auto">triggers</code></h3><a class="sl-anchor-link" href="#210-triggers"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.10. triggers”</span></a></div>
<p>Declares package relationships with system triggers.</p>
<p><strong>Trigger directives:</strong></p>
<ul>
<li><code dir="auto">interest &#x3C;trigger></code> – Package is interested in the trigger.</li>
<li><code dir="auto">interest-await &#x3C;trigger></code> – Puts triggering package in “awaited” state.</li>
<li><code dir="auto">interest-noawait &#x3C;trigger></code> – Does not await the trigger.</li>
<li><code dir="auto">activate &#x3C;trigger></code> – Any change activates the trigger.</li>
<li><code dir="auto">activate-await &#x3C;trigger></code> – Only puts package in “awaited” state.</li>
<li><code dir="auto">activate-noawait &#x3C;trigger></code> – Never puts package in “awaited” state.</li>
</ul>
<p><strong>Example from <code dir="auto">mariadb-server</code> <code dir="auto">triggers</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">interest-noawait /etc/mysql</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">interest-noawait /etc/systemd/system/mariadb.service.d</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="interest-noawait /etc/mysqlinterest-noawait /etc/systemd/system/mariadb.service.d"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="211-symbols-and-shlibs">2.11. <code dir="auto">symbols</code> and <code dir="auto">shlibs</code></h3><a class="sl-anchor-link" href="#211-symbols-and-shlibs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2.11. symbols and shlibs”</span></a></div>
<p>Contain shared library information.</p>
<p><strong>Reference:</strong><br>
<a href="https://man7.org/linux/man-pages/man5/deb-symbols.5.html">https://man7.org/linux/man-pages/man5/deb-symbols.5.html</a><br>
<a href="https://man7.org/linux/man-pages/man5/deb-shlibs.5.html">https://man7.org/linux/man-pages/man5/deb-shlibs.5.html</a></p>
<p><strong>Example from <code dir="auto">slapd</code> <code dir="auto">shlibs</code>:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">libslapi 2 slapd (>= 2.6.10+dfsg)</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="libslapi 2 slapd (>= 2.6.10+dfsg)"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="3-package-data-files">3. Package Data Files</h2><a class="sl-anchor-link" href="#3-package-data-files"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3. Package Data Files”</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="31-basics">3.1. Basics</h3><a class="sl-anchor-link" href="#31-basics"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3.1. Basics”</span></a></div>
<p>Data files reside in the <code dir="auto">data.tar.zst</code> archive. This archive contains files organized in their corresponding directory structure. During installation, each file is extracted to its appropriate location in the filesystem.</p>
<p><strong>Example: Directory structure of the <code dir="auto">openssh-server</code> package (Ubuntu 22.04 LTS):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── etc</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── default</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   └── ssh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── init.d</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   └── ssh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── pam.d</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   └── sshd</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── ssh</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   ├── moduli</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   └── sshd_config.d</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── ufw</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│       └── applications.d</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│           └── openssh-server</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── lib</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── systemd</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│       └── system</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│           ├── rescue-ssh.target</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│           ├── ssh.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│           ├── ssh@.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│           └── ssh.socket</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">└── usr</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">├── lib</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">│   └── openssh</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">│       └── ssh-session-cleanup</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">├── sbin</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">│   └── sshd</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">└── share</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">├── apport</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   └── package-hooks</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│       └── openssh-server.py</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">├── doc</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   ├── openssh-client</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   │   └── examples</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   │       └── ssh-session-cleanup.service</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   └── openssh-server -> openssh-client</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">├── man</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   ├── man5</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   │   ├── authorized_keys.5.gz -> ../man8/sshd.8.gz</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   │   ├── moduli.5.gz</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   │   └── sshd_config.5.gz</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│   └── man8</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">│       └── sshd.8.gz</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">└── openssh</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">            </span></span><span style="--0:#d6deeb;--1:#403f53">├── sshd_config</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">            </span></span><span style="--0:#d6deeb;--1:#403f53">└── sshd_config.md5sum</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="├── etc│   ├── default│   │   └── ssh│   ├── init.d│   │   └── ssh│   ├── pam.d│   │   └── sshd│   ├── ssh│   │   ├── moduli│   │   └── sshd_config.d│   └── ufw│       └── applications.d│           └── openssh-server├── lib│   └── systemd│       └── system│           ├── rescue-ssh.target│           ├── ssh.service│           ├── ssh@.service│           └── ssh.socket└── usr    ├── lib    │   └── openssh    │       └── ssh-session-cleanup    ├── sbin    │   └── sshd    └── share        ├── apport        │   └── package-hooks        │       └── openssh-server.py        ├── doc        │   ├── openssh-client        │   │   └── examples        │   │       └── ssh-session-cleanup.service        │   └── openssh-server -> openssh-client        ├── man        │   ├── man5        │   │   ├── authorized_keys.5.gz -> ../man8/sshd.8.gz        │   │   ├── moduli.5.gz        │   │   └── sshd_config.5.gz        │   └── man8        │       └── sshd.8.gz        └── openssh            ├── sshd_config            └── sshd_config.md5sum"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="32-file-locations">3.2. File Locations</h3><a class="sl-anchor-link" href="#32-file-locations"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3.2. File Locations”</span></a></div>
<p>Data files include binaries, static files, dynamic files, configurations, and more. Each file must be placed in an appropriate directory.</p>
<p><strong>Common locations:</strong></p>
<ul>
<li><strong>Architecture-independent, application-specific files</strong> → <code dir="auto">/usr/share</code></li>
<li><strong>User-specific configuration files</strong> → <code dir="auto">~/.packagename</code> (file or directory)</li>
<li><strong>System-wide configuration files</strong> → <code dir="auto">/etc/packagename</code></li>
<li><strong>Systemd unit files</strong> → <code dir="auto">/lib/systemd/system</code></li>
<li><strong>Log files</strong> → <code dir="auto">/var/log/packagename</code></li>
<li><strong>Cron jobs</strong> (depending on frequency):
<ul>
<li><code dir="auto">/etc/cron.hourly</code></li>
<li><code dir="auto">/etc/cron.daily</code></li>
<li><code dir="auto">/etc/cron.weekly</code></li>
<li><code dir="auto">/etc/cron.monthly</code></li>
<li>For custom schedules → <code dir="auto">/etc/cron.d</code></li>
</ul>
</li>
</ul>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="4-package-installation-process">4. Package Installation Process</h2><a class="sl-anchor-link" href="#4-package-installation-process"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “4. Package Installation Process”</span></a></div>
<hr>
<p>The installation process of a <code dir="auto">.deb</code> package involves multiple steps, including script execution and dependency management. Below is a simplified overview of the flow:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If there is a previous version of the package:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Call for the old package: "old-prerm upgrade new-version"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Call for the current package: "new-prerm failed-upgrade old-version new-version"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">Call for the old package: "old-postinst abort-upgrade new-version"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade unsuccessful, old version remains functional</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade unsuccessful, old version is broken</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If there are conflicting and/or broken packages:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">For each conflicting/broken package:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53"># Unconfigure them</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">deconfigured's-prerm deconfigure in-favour package-being-installed version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">deconfigured's-postinst abort-deconfigure in-favour \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">package-being-installed-but-failed version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53"># Remove them</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">conflictor's-prerm remove in-favour package new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">conflictor's-postinst abort-remove in-favour package new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">If any packages depend on the conflicting/broken packages:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">For each dependent package:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53"># Unconfigure them</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">deconfigured's-prerm deconfigure in-favour package-being-installed \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">            </span></span><span style="--0:#d6deeb;--1:#403f53">version removing conflicting-package version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">deconfigured's-postinst abort-deconfigure in-favour \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">             </span></span><span style="--0:#d6deeb;--1:#403f53">package-being-installed-but-failed version \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">             </span></span><span style="--0:#d6deeb;--1:#403f53">removing conflicting-package version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53"># Prepare to remove conflicting packages</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">conflictor's-prerm remove in-favour package new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">conflictor's-postinst abort-remove in-favour package new-version</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># Run the preinst script of the new package</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If the package is being upgraded:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">new-preinst upgrade old-version new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">new-postrm abort-upgrade old-version new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade unsuccessful, old version remains functional</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade unsuccessful, old version is broken</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Else if the package is new but old configuration files exist:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">new-preinst install old-version new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">new-postrm abort-install old-version new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Installation unsuccessful</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Else:  # Fresh installation with no existing configuration files</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">new-preinst install</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">new-postrm abort-install</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Installation unsuccessful</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Unpack all files from the data archive</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53"># A package cannot overwrite another package's files unless specified with "Replaces"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If the package is being upgraded:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">old-postrm upgrade new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If return condition is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">new-postrm failed-upgrade old-version new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">If return condition is 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade failed, old version remains functional</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53"># Upgrade failed; attempt to recover</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">old-preinst abort-upgrade new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">If return condition is 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">new-postrm abort-upgrade old-version new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">If return condition is 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">old-postinst abort-upgrade new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade failed, old version remains functional</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade failed, old version broken</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">          </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">      </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Upgrade failed, old version broken</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Files present in the old version but not in the new version are removed</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">The new file list replaces the old one</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">New maintenance scripts replace the old ones</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">For each package whose files were overwritten and is no longer required for dependencies:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53"># Remove the overwritten package</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">disappearer's-postrm disappear overwriter overwriter-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Remove package scripts</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Update package status to "Not-Installed"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If any files in the new package are also listed in other packages:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Remove them</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Remove temporary and backup files created during installation</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Set the package status to "Unpacked"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If there were conflicting packages:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Remove them</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="If there is a previous version of the package:  Call for the old package: &#x22;old-prerm upgrade new-version&#x22;  If return status is not 0:    Call for the current package: &#x22;new-prerm failed-upgrade old-version new-version&#x22;    If return status is not 0:      Call for the old package: &#x22;old-postinst abort-upgrade new-version&#x22;        If return status is 0:          Upgrade unsuccessful, old version remains functional          Exit        Else:          Upgrade unsuccessful, old version is broken          ExitIf there are conflicting and/or broken packages:  For each conflicting/broken package:    # Unconfigure them    deconfigured&#x27;s-prerm deconfigure in-favour package-being-installed version    If return status is not 0:      deconfigured&#x27;s-postinst abort-deconfigure in-favour \          package-being-installed-but-failed version    # Remove them    conflictor&#x27;s-prerm remove in-favour package new-version    If return status is not 0:      conflictor&#x27;s-postinst abort-remove in-favour package new-version    If any packages depend on the conflicting/broken packages:      For each dependent package:        # Unconfigure them        deconfigured&#x27;s-prerm deconfigure in-favour package-being-installed \            version removing conflicting-package version        If return status is not 0:          deconfigured&#x27;s-postinst abort-deconfigure in-favour \             package-being-installed-but-failed version \             removing conflicting-package version    # Prepare to remove conflicting packages    conflictor&#x27;s-prerm remove in-favour package new-version    If return status is not 0:      conflictor&#x27;s-postinst abort-remove in-favour package new-version# Run the preinst script of the new packageIf the package is being upgraded:  new-preinst upgrade old-version new-version  If return status is not 0:    new-postrm abort-upgrade old-version new-version      If return status is 0:        Upgrade unsuccessful, old version remains functional        Exit      Else:        Upgrade unsuccessful, old version is broken        ExitElse if the package is new but old configuration files exist:  new-preinst install old-version new-version  If return status is not 0:    new-postrm abort-install old-version new-version    Installation unsuccessful    ExitElse:  # Fresh installation with no existing configuration files  new-preinst install  If return status is not 0:    new-postrm abort-install    Installation unsuccessful    ExitUnpack all files from the data archive# A package cannot overwrite another package&#x27;s files unless specified with &#x22;Replaces&#x22;If the package is being upgraded:  old-postrm upgrade new-version  If return condition is not 0:    new-postrm failed-upgrade old-version new-version    If return condition is 0:      Upgrade failed, old version remains functional      Exit    Else:      # Upgrade failed; attempt to recover      old-preinst abort-upgrade new-version      If return condition is 0:        new-postrm abort-upgrade old-version new-version        If return condition is 0:          old-postinst abort-upgrade new-version          Upgrade failed, old version remains functional          Exit        Else:          Upgrade failed, old version broken          Exit      Else:        Upgrade failed, old version broken        ExitFiles present in the old version but not in the new version are removedThe new file list replaces the old oneNew maintenance scripts replace the old onesFor each package whose files were overwritten and is no longer required for dependencies:  # Remove the overwritten package  disappearer&#x27;s-postrm disappear overwriter overwriter-version  Remove package scripts  Update package status to &#x22;Not-Installed&#x22;If any files in the new package are also listed in other packages:  Remove themRemove temporary and backup files created during installationSet the package status to &#x22;Unpacked&#x22;If there were conflicting packages:  Remove them"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="5-package-removalpurge-process">5. Package Removal/Purge Process</h2><a class="sl-anchor-link" href="#5-package-removalpurge-process"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “5. Package Removal/Purge Process”</span></a></div>
<hr>
<p>The removal or purging of a package follows a structured sequence:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Run: prerm remove</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If return status is not 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If failure is due to conflict:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Run: conflictor's-postinst abort-remove in-favour package new-version</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Run: postinst abort-remove</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">If return status is 0:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Removal aborted; package remains installed</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Else:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Removal aborted; package is in a broken state</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Exit</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Remove all package files (except configuration files listed in conffiles)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Remove all package maintenance scripts except postrm</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">If purging (not just removing):</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Remove configuration files and temporary/backup files created during installation</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Run: postrm purge</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Remove the package's file list from the system database</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Run: prerm removeIf return status is not 0:  If failure is due to conflict:    Run: conflictor&#x27;s-postinst abort-remove in-favour package new-version  Else:    Run: postinst abort-remove  If return status is 0:    Removal aborted; package remains installed    Exit  Else:    Removal aborted; package is in a broken state    ExitRemove all package files (except configuration files listed in conffiles)Remove all package maintenance scripts except postrmIf purging (not just removing):  Remove configuration files and temporary/backup files created during installation  Run: postrm purge  Remove the package&#x27;s file list from the system database"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="6-deb-package-preparation-checklist">6. .deb Package Preparation Checklist</h2><a class="sl-anchor-link" href="#6-deb-package-preparation-checklist"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “6. .deb Package Preparation Checklist”</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="61-create-file-and-folder-structure-for-the-package">6.1. Create File and Folder Structure for the Package</h3><a class="sl-anchor-link" href="#61-create-file-and-folder-structure-for-the-package"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “6.1. Create File and Folder Structure for the Package”</span></a></div>
<p>A minimal directory structure for a package includes:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ProgramName-Version/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── DEBIAN/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── control</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">└── usr/</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">└── bin/</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">└── ProgramName</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ProgramName-Version/├── DEBIAN/│   └── control└── usr/    └── bin/        └── ProgramName"><div></div></button></div></figure></div>
<p>Additional files and directories you may need:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ProgramName-Version/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── DEBIAN/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── control</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── preinst</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── postinst</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── prerm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── postrm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── etc/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── ProgramName.conf</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── ProgramName/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── usr/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── share/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   ├── applications/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   │   └── ProgramName.desktop</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │   └── ProgramName/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   │       └── ProgramFiles</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── bin/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│       └── ProgramName</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">└── (other directories as needed)</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ProgramName-Version/├── DEBIAN/│   ├── control│   ├── preinst│   ├── postinst│   ├── prerm│   └── postrm├── etc/│   ├── ProgramName.conf│   └── ProgramName/├── usr/│   ├── share/│   │   ├── applications/│   │   │   └── ProgramName.desktop│   │   └── ProgramName/│   │       └── ProgramFiles│   └── bin/│       └── ProgramName└── (other directories as needed)"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="62-copy-files">6.2. Copy Files</h3><a class="sl-anchor-link" href="#62-copy-files"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “6.2. Copy Files”</span></a></div>
<p>Place your program executable, control files, scripts, and other resources into the appropriate locations:</p>
<ul>
<li><strong><code dir="auto">/usr/share/ProgramName/</code></strong>: Use this directory if your program consists of multiple files.</li>
<li><strong><code dir="auto">/etc/</code></strong> or <strong><code dir="auto">/etc/ProgramName/</code></strong>: For configuration files (single file or a directory of configs).</li>
<li><strong><code dir="auto">/usr/share/applications/</code></strong>: For desktop launcher files (<code dir="auto">.desktop</code> entries).</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="63-preparing-and-building-the-package">6.3. Preparing and Building The Package</h3><a class="sl-anchor-link" href="#63-preparing-and-building-the-package"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “6.3. Preparing and Building The Package”</span></a></div>
<p>Once all files are in place, ensure executable files have the correct permissions:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">chmod a+x ProgramName-Version/usr/bin/ProgramName</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="chmod a+x ProgramName-Version/usr/bin/ProgramName"><div></div></button></div></figure></div>
<p>Then build the package using <code dir="auto">dpkg-deb</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">dpkg-deb -Z xz --build --root-owner-group ProgramName-Version</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="dpkg-deb -Z xz --build --root-owner-group ProgramName-Version"><div></div></button></div></figure></div>
<p>The resulting <code dir="auto">.deb</code> file (e.g., <code dir="auto">ProgramName-Version.deb</code>) is your ready-to-use package.</p>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="7-a-very-simple-package">7. A Very Simple Package</h2><a class="sl-anchor-link" href="#7-a-very-simple-package"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “7. A Very Simple Package”</span></a></div>
<hr>
<p>We will now create a very simple package named <strong>“distro”</strong>. This package contains a Python script that displays the Unix distribution name and version information.</p>
<p>The package includes only the executable script and the control file—no configuration files or maintenance scripts are required.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="71-create-folder-structure">7.1. Create Folder Structure</h3><a class="sl-anchor-link" href="#71-create-folder-structure"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “7.1. Create Folder Structure”</span></a></div>
<p>First, create a <code dir="auto">packages</code> directory in your home folder to organize your work:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir ~/packages</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir ~/packages"><div></div></button></div></figure></div>
<p>Package naming follows the format: <code dir="auto">packagename_version-revision_architecture.deb</code>. Create a folder for our package:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir ~/packages/distro_1.0.0-1_all</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir ~/packages/distro_1.0.0-1_all"><div></div></button></div></figure></div>
<p>Create subdirectories for the executable and control files:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir -p ~/packages/distro_1.0.0-1_all/usr/bin</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir ~/packages/distro_1.0.0-1_all/DEBIAN</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir -p ~/packages/distro_1.0.0-1_all/usr/binmkdir ~/packages/distro_1.0.0-1_all/DEBIAN"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="72-create-the-executable-file">7.2. Create the Executable File</h3><a class="sl-anchor-link" href="#72-create-the-executable-file"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “7.2. Create the Executable File”</span></a></div>
<p>Create the Python script:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">nano ~/packages/distro_1.0.0-1_all/usr/bin/distro</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="nano ~/packages/distro_1.0.0-1_all/usr/bin/distro"><div></div></button></div></figure></div>
<p>Add the following content:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">#!/usr/bin/env python3</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">def distro_version():</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">d = {}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">try:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">with open("/etc/os-release") as f:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">            </span></span><span style="--0:#d6deeb;--1:#403f53">for line in f:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">                </span></span><span style="--0:#d6deeb;--1:#403f53">line = line.replace('"', '')</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">                </span></span><span style="--0:#d6deeb;--1:#403f53">line = line.replace('\n', '')</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">                </span></span><span style="--0:#d6deeb;--1:#403f53">if line == "":</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">                    </span></span><span style="--0:#d6deeb;--1:#403f53">continue</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">                </span></span><span style="--0:#d6deeb;--1:#403f53">(key, val) = line.split("=")</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">                </span></span><span style="--0:#d6deeb;--1:#403f53">d[(key)] = val</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">distro = d["NAME"]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">version = d["VERSION_ID"]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">except:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">distro = "Other"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">version = "Other"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">return distro, version</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">distro, version = distro_version()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">print(distro, version)</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/usr/bin/env python3def distro_version():    d = {}    try:        with open(&#x22;/etc/os-release&#x22;) as f:            for line in f:                line = line.replace(&#x27;&#x22;&#x27;, &#x27;&#x27;)                line = line.replace(&#x27;\n&#x27;, &#x27;&#x27;)                if line == &#x22;&#x22;:                    continue                (key, val) = line.split(&#x22;=&#x22;)                d[(key)] = val        distro = d[&#x22;NAME&#x22;]        version = d[&#x22;VERSION_ID&#x22;]    except:        distro = &#x22;Other&#x22;        version = &#x22;Other&#x22;    return distro, versiondistro, version = distro_version()print(distro, version)"><div></div></button></div></figure></div>
<p>Make the script executable:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">chmod +x ~/packages/distro_1.0.0-1_all/usr/bin/distro</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="chmod +x ~/packages/distro_1.0.0-1_all/usr/bin/distro"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="73-create-the-control-file">7.3. Create the Control File</h3><a class="sl-anchor-link" href="#73-create-the-control-file"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “7.3. Create the Control File”</span></a></div>
<p>Create the <code dir="auto">control</code> file:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">nano ~/packages/distro_1.0.0-1_all/DEBIAN/control</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="nano ~/packages/distro_1.0.0-1_all/DEBIAN/control"><div></div></button></div></figure></div>
<p>Add the following content:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Package: distro</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Version: 1.0.0-1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Architecture: all</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Maintainer: Exforge &#x3C;exforge@x386.org></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Depends: python3</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Homepage: https://github.com/enatsek/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Description: Prints Linux Distribution and Name</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">A python script to print linux distro and version of the distro. I do not know what</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">it does on other OSs.</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Package: distroVersion: 1.0.0-1Architecture: allMaintainer: Exforge <exforge@x386.org>Depends: python3Homepage: https://github.com/enatsek/Description: Prints Linux Distribution and Name  A python script to print linux distro and version of the distro. I do not know what  it does on other OSs."><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="74-build-the-package">7.4. Build the package</h3><a class="sl-anchor-link" href="#74-build-the-package"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “7.4. Build the package”</span></a></div>
<p>Navigate to the packages directory and build the package:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">cd ~/packages</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">dpkg-deb -Z xz --build --root-owner-group distro_1.0.0-1_all</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="cd ~/packagesdpkg-deb -Z xz --build --root-owner-group distro_1.0.0-1_all"><div></div></button></div></figure></div>
<p>Your package, <code dir="auto">distro_1.0.0-1_all.deb</code>, is now located in the <code dir="auto">~/packages</code> folder.</p>
<p><strong>Note:</strong> <code dir="auto">dpkg-deb</code> typically uses <code dir="auto">zst</code> compression, but we override it with the <code dir="auto">-Z xz</code> flag for broader compatibility. Packages compressed with <code dir="auto">zst</code> (default in Ubuntu 22.04) may not work on older Debian distributions.</p>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="8-a-more-complex-package-watchbox">8. A More Complex Package: Watchbox</h2><a class="sl-anchor-link" href="#8-a-more-complex-package-watchbox"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8. A More Complex Package: Watchbox”</span></a></div>
<hr>
<p>Our next package, <strong>watchbox</strong>, is more complex. It is a Python script designed to run as a systemd service.</p>
<p>The package must:</p>
<ul>
<li>Install as a systemd service</li>
<li>Enable and start the service after installation</li>
<li>Stop the service before removal or upgrade</li>
</ul>
<p>Required control files: <code dir="auto">control</code>, <code dir="auto">conffiles</code>, <code dir="auto">postinst</code>, and <code dir="auto">prerm</code>.<br>
Data files: the script itself, a configuration file, and a systemd unit file.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="80-about-watchbox">8.0. About Watchbox</h3><a class="sl-anchor-link" href="#80-about-watchbox"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.0. About Watchbox”</span></a></div>
<p>Watchbox is a demonstration service that periodically checks network connectivity for hosts, web pages, files, or services.</p>
<p>It consists of:</p>
<ul>
<li><code dir="auto">watchbox</code>: the main application</li>
<li><code dir="auto">watchbox.conf</code>: configuration file</li>
<li><code dir="auto">watchbox.service</code>: systemd service unit file</li>
</ul>
<p>For more details, see: <a href="https://github.com/enatsek/watchbox">https://github.com/enatsek/watchbox</a></p>
<div class="sl-heading-wrapper level-h3"><h3 id="81-download-watchbox-files">8.1. Download Watchbox Files</h3><a class="sl-anchor-link" href="#81-download-watchbox-files"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.1. Download Watchbox Files”</span></a></div>
<p>Download the necessary files from GitHub to a temporary location:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">wget https://raw.githubusercontent.com/enatsek/watchbox/main/watchbox \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">-P /tmp</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">wget https://raw.githubusercontent.com/enatsek/watchbox/main/watchbox.conf \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">-P /tmp</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">wget https://raw.githubusercontent.com/enatsek/watchbox/main/watchbox.service \</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">     </span></span><span style="--0:#d6deeb;--1:#403f53">-P /tmp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="wget https://raw.githubusercontent.com/enatsek/watchbox/main/watchbox \     -P /tmpwget https://raw.githubusercontent.com/enatsek/watchbox/main/watchbox.conf \     -P /tmpwget https://raw.githubusercontent.com/enatsek/watchbox/main/watchbox.service \     -P /tmp"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="82-folder-structure">8.2. Folder Structure</h3><a class="sl-anchor-link" href="#82-folder-structure"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.2. Folder Structure”</span></a></div>
<p>The package will have the following structure:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/packages/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">~/packages/watchbox_0.9-1_all/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── DEBIAN/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── control</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── conffiles</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   ├── postinst</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── prerm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── etc/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── watchbox.conf</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">├── lib/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│   └── systemd/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│       └── system/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│           └── watchbox.service</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">└── usr/</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">└── bin/</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">        </span></span><span style="--0:#d6deeb;--1:#403f53">└── watchbox</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="/packages/~/packages/watchbox_0.9-1_all/├── DEBIAN/│   ├── control│   ├── conffiles│   ├── postinst│   └── prerm├── etc/│   └── watchbox.conf├── lib/│   └── systemd/│       └── system/│           └── watchbox.service└── usr/    └── bin/        └── watchbox"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="83-create-folder-structure">8.3. Create Folder Structure</h3><a class="sl-anchor-link" href="#83-create-folder-structure"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.3. Create Folder Structure”</span></a></div>
<p>Create the directories:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir -p ~/packages/watchbox_0.9-1_all/DEBIAN/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir -p ~/packages/watchbox_0.9-1_all/etc</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir -p ~/packages/watchbox_0.9-1_all/lib/systemd/system/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">mkdir -p ~/packages/watchbox_0.9-1_all/usr/bin/</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir -p ~/packages/watchbox_0.9-1_all/DEBIAN/mkdir -p ~/packages/watchbox_0.9-1_all/etcmkdir -p ~/packages/watchbox_0.9-1_all/lib/systemd/system/mkdir -p ~/packages/watchbox_0.9-1_all/usr/bin/"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="84-copy-watchbox-files-to-their-locations">8.4. Copy Watchbox Files to Their Locations</h3><a class="sl-anchor-link" href="#84-copy-watchbox-files-to-their-locations"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.4. Copy Watchbox Files to Their Locations”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">cp /tmp/watchbox.conf ~/packages/watchbox_0.9-1_all/etc/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">cp /tmp/watchbox.service ~/packages/watchbox_0.9-1_all/lib/systemd/system/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">cp /tmp/watchbox -p ~/packages/watchbox_0.9-1_all/usr/bin/</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="cp /tmp/watchbox.conf ~/packages/watchbox_0.9-1_all/etc/cp /tmp/watchbox.service ~/packages/watchbox_0.9-1_all/lib/systemd/system/cp /tmp/watchbox -p ~/packages/watchbox_0.9-1_all/usr/bin/"><div></div></button></div></figure></div>
<p>Make the script executable:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">chmod +x ~/packages/watchbox_0.9-1_all/usr/bin/watchbox</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="chmod +x ~/packages/watchbox_0.9-1_all/usr/bin/watchbox"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="85-create-control-files-and-maintenance-scripts">8.5. Create Control Files and Maintenance Scripts</h3><a class="sl-anchor-link" href="#85-create-control-files-and-maintenance-scripts"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.5. Create Control Files and Maintenance Scripts”</span></a></div>
<p><strong>Control File (<code dir="auto">control</code>):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">nano ~/packages/watchbox_0.9-1_all/DEBIAN/control</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="nano ~/packages/watchbox_0.9-1_all/DEBIAN/control"><div></div></button></div></figure></div>
<p>Add the following content:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Package: watchbox</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Version: 0.9-1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Architecture: amd64</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Maintainer: Exforge &#x3C;exforge@x386.org></span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Homepage: https://github.com/enatsek/watchbox/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Depends: python3, python3-systemd</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Description: Automated Service Checking Tool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">WatchBox (AKA watchbox) is planned to be a Systemd service for starting at the power-up and making periodic checks.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Currently it has 6 types of checks:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">- IPPing: Checks if an IP address or hostname can be pinged</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">- IPPort: Checks if an IP address or hostname can be connected through a TCP Port</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">- Webpage: Checks if a webpage exists</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">- WebpageContent: Checks if a webpage has a content</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">- LocalPath: Checks if a path exists</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">- LocalService: Checks if a systemd service is active</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Check status results can be collected to systemd journal, text file, and/or sqlite db file.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Configuration file watchbox.conf is expected to be in /etc directory. It is well documented inside.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">Disclaimer: This program is far from being optimized, so it is not adviced to use it on production environments.</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Package: watchboxVersion: 0.9-1Architecture: amd64Maintainer: Exforge <exforge@x386.org>Homepage: https://github.com/enatsek/watchbox/Depends: python3, python3-systemdDescription: Automated Service Checking Tool  WatchBox (AKA watchbox) is planned to be a Systemd service for starting at the power-up and making periodic checks.  Currently it has 6 types of checks:  - IPPing: Checks if an IP address or hostname can be pinged  - IPPort: Checks if an IP address or hostname can be connected through a TCP Port  - Webpage: Checks if a webpage exists  - WebpageContent: Checks if a webpage has a content  - LocalPath: Checks if a path exists  - LocalService: Checks if a systemd service is active  Check status results can be collected to systemd journal, text file, and/or sqlite db file.  Configuration file watchbox.conf is expected to be in /etc directory. It is well documented inside.  Disclaimer: This program is far from being optimized, so it is not adviced to use it on production environments."><div></div></button></div></figure></div>
<p><strong>Configuration File List (<code dir="auto">conffiles</code>):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">nano ~/packages/watchbox_0.9-1_all/DEBIAN/conffiles</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="nano ~/packages/watchbox_0.9-1_all/DEBIAN/conffiles"><div></div></button></div></figure></div>
<p>Add:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/etc/watchbox.conf</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="/etc/watchbox.conf"><div></div></button></div></figure></div>
<p><strong>Post-Installation Script (<code dir="auto">postinst</code>):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">nano ~/packages/watchbox_0.9-1_all/DEBIAN/postinst</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="nano ~/packages/watchbox_0.9-1_all/DEBIAN/postinst"><div></div></button></div></figure></div>
<p>Add:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">#!/bin/bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">systemctl enable watchbox</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">systemctl start watchbox</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/bin/bashsystemctl enable watchboxsystemctl start watchbox"><div></div></button></div></figure></div>
<p>Make it executable:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">chmod +x ~/packages/watchbox_0.9-1_all/DEBIAN/postinst</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="chmod +x ~/packages/watchbox_0.9-1_all/DEBIAN/postinst"><div></div></button></div></figure></div>
<p><strong>Pre-Removal Script (<code dir="auto">prerm</code>):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">nano ~/packages/watchbox_0.9-1_all/DEBIAN/prerm</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="nano ~/packages/watchbox_0.9-1_all/DEBIAN/prerm"><div></div></button></div></figure></div>
<p>Fill as below (Stops watchbox service)</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">#!/bin/bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">systemctl stop watchbox</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="#!/bin/bashsystemctl stop watchbox"><div></div></button></div></figure></div>
<p>Make it executable:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">chmod +x ~/packages/watchbox_0.9-1_all/DEBIAN/prerm</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="chmod +x ~/packages/watchbox_0.9-1_all/DEBIAN/prerm"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="86-build-the-package">8.6. Build the Package</h3><a class="sl-anchor-link" href="#86-build-the-package"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “8.6. Build the Package”</span></a></div>
<p>Navigate to the packages directory and build:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">cd ~/packages</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">dpkg-deb -Z xz --build --root-owner-group watchbox_0.9-1_all</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="cd ~/packagesdpkg-deb -Z xz --build --root-owner-group watchbox_0.9-1_all"><div></div></button></div></figure></div>
<p>Your package, <code dir="auto">watchbox_0.9-1_all.deb</code>, is now ready in the <code dir="auto">~/packages</code> folder.</p> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr">   </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>