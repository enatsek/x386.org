<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>LVM (Logical Volume Management) | Debian & Ubuntu Tutorials</title><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><meta name="generator" content="Astro v5.16.6"/><meta name="generator" content="Starlight v0.37.1"/><meta property="og:title" content="LVM (Logical Volume Management)"/><meta property="og:type" content="article"/><meta property="og:locale" content="en"/><meta property="og:description" content="Flexible disk management with LVM"/><meta property="og:site_name" content="Debian &#38; Ubuntu Tutorials"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="Flexible disk management with LVM"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.0vIKbS8r.css"><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt src="/_astro/logo.Br7QL1LC.png" width="734" height="349">  <span class="astro-m46x6ez3" translate="no"> Debian &amp; Ubuntu Tutorials </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = 'âŒ˜';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/enatsek/" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="16s7f48" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Site Info</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/generics/about/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">About</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generics/license/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">License</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generics/privacypolicy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Privacy Policy</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Web Services &amp; HTTPS</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/apache/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Apache Web Server</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/nginx/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Nginx Web Server</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/certbot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Certbot</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lamp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LAMP Stack</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lapp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LAPP Stack</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/wordpress/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">WordPress</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/adminer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adminer Tool</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Database Management</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/mariadb/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MariaDB</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/mariadbcluster/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MariaDB Cluster</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/postgresdebian/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">PostgreSQL (Debian)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/postgresubuntu/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">PostgreSQL (Ubuntu)</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Networking</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/networkdebian/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Debian Network Configuration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/networkubuntu/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Ubuntu Network Configuration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/ufw/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">UFW (Uncomplicated Firewall)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/shvpn/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Self-Hosted VPN</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/s2svpn/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Site-to-Site VPN</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Infrastructure &amp; Virtualization</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/kvm1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">KVM Virtualization (Beginner)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/kvm2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">KVM Virtualization (Networking)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/keepalived/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Keepalived</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/haproxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">HAProxy</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/ansible/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Ansible</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/lvm/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LVM (Logical Volume Management)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/dns/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DNS</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/ad/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Active Directory</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/nodejs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Node.js</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">System Administration Guides</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/useradministration/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">User and Group Administration</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/etcfolder/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">/etc Folder Contents</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/regex/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Regular Expressions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/filecompression/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">File Compression</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/fhs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">FHS (Filesystem Hierarchy Standard)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/systemd/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Systemd Basics</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/systemd2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Systemd Additional</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/debpackaging/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Debian Packaging</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/otherlinuxes/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Other Linux Distributions</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <a href="https://github.com/enatsek/" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#0-specs" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">0. Specs</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#01-the-what" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.1. The What</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#02-environment" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.2. Environment</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#03-sources" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.3. Sources</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-layers-of-lvm" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1. Layers of LVM</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#10-abstract" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.0. Abstract</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#11-physical-volumes-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.1. Physical Volumes (PV)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#12-volume-groups-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.2. Volume Groups (VG)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#13-logical-volumes-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.3. Logical Volumes (LV)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#2-physical-volume-commands" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">2. Physical Volume Commands</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#21-pvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.1. pvs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#22-pvscan" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.2. pvscan</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#23-pvdisplay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.3. pvdisplay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#24-pvcreate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.4. pvcreate</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#25-pvremove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.5. pvremove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#26-pvmove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.6. pvmove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#27-pvresize" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.7. pvresize</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#28-pvchange" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.8. pvchange</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#29-pvck" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.9. pvck</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#3-volume-group-commands" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3. Volume Group Commands</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#31-vgs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.1. vgs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#32-vgscan" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.2. vgscan</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#33-vgdisplay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.3. vgdisplay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#34-vgcreate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.4. vgcreate</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#35-vgextend" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.5. vgextend</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#36-vgreduce" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.6. vgreduce</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#37-vgremove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.7. vgremove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#38-vgchange" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.8. vgchange</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#39-vgrename" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.9. vgrename</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#310-vgck" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.10. vgck</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#311-other-commands" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.11. Other Commands</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#4-logical-volume-commands" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">4. Logical Volume Commands</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#41-lvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.1. lvs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#42-lvscan" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.2. lvscan</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#43-lvdisplay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.3. lvdisplay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#44-lvcreate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.4. lvcreate</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#45-lvextend" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.5. lvextend</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#46-lvreduce" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.6. lvreduce</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#47-lvremove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.7. lvremove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#48-lvchange" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.8. lvchange</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#49-lvrename" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.9. lvrename</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#410-other-commands" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.10. Other Commands</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#5-case-study-1---installing-lvm-and-manipulating-disks-pvs-vgs-lvs" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">5. Case Study 1 - Installing LVM and Manipulating Disks, PVs, VGs, LVs</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#50-specs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.0. Specs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#51-install-lvm-packages" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.1. Install LVM Packages</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#52-add-20-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.2. Add 20 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#53-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.3. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#54-create-a-vg-from-the-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.4. Create a VG from the PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#55-create-a-lv-within-the-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.5. Create a LV within the VG</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#56-create-a-filesystem-in-the-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.6. Create a Filesystem in the LV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#57-mount-the-fs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.7. Mount the FS</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#58-add-30-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.8. Add 30 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#59-create-a-pv-from-the-second-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.9. Create a PV from the Second Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#510-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.10. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#511-extend-the-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.11. Extend the LV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#512-extend-the-filesystem" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.12. Extend the Filesystem</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#513-add-50-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.13. Add 50 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#514-create-a-pv-from-the-3rd-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.14. Create a PV from the 3rd Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#515-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.15. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#516-move-data-from-the-20-gb-and-30-gb-disks-to-the-50-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.16. Move Data from the 20 GB and 30 GB Disks to the 50 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#517-remove-the-20-gb-and-30-gb-disks-as-pvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.17. Remove the 20 GB and 30 GB Disks as PVs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#518-physically-remove-the-20-gb-and-30-gb-disks-and-verify" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.18. Physically Remove the 20 GB and 30 GB Disks and Verify</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#6-case-study-2---lvm-and-snapshot" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">6. Case Study 2 - LVM and Snapshot</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#60-specs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.0. Specs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#61-add-20-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.1. Add 20 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#62-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.2. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#63-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.3. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#64-extend-the-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.4. Extend the LV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#65-extend-the-filesystem" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.5. Extend the Filesystem</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#66-add-30-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.6. Add 30 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#67-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.7. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#68-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.8. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#69-create-a-snapshot-of-the-system-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.9. Create a Snapshot of the System Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#610-make-changes-to-the-system-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.10. Make Changes to the System Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#611-mount-the-snapshot-and-check-its-content" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.11. Mount the Snapshot and Check Its Content</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#612-extend-the-snapshot" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.12. Extend the Snapshot</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#613-revert-to-the-snapshot" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.13. Revert to the Snapshot</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#7-case-study-3---export-and-import-of-lvm" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">7. Case Study 3 - Export and Import of LVM</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#70-specs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.0. Specs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#71-install-lvm-on-srva" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.1. Install LVM on srva</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#72-add-20-gb-disk-to-srva" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.2. Add 20 GB Disk to srva</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#73-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.3. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#74-create-a-vg-from-the-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.4. Create a VG from the PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#75-create-2-lvs-within-the-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.5. Create 2 LVs within the VG</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#76-create-filesystems-in-the-lvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.6. Create Filesystems in the LVs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#77-mount-the-filesystems" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.7. Mount the Filesystems</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#78-put-test-data-on-the-filesystems" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.8. Put Test Data on the Filesystems</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#79-unmount-logical-volumes" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.9. Unmount Logical Volumes</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#710-deactivate-all-logical-volumes-in-the-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.10. Deactivate All Logical Volumes in the VG</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#711-export-the-vg-and-unplug-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.11. Export the VG and Unplug the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#712-install-lvm-on-srvb" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.12. Install LVM on srvb</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#713-plug-the-disk-into-srvb" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.13. Plug the Disk into srvb</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#714-import-the-volume-group" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.14. Import the Volume Group</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#715-activate-the-volume-group" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.15. Activate the Volume Group</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#716-mount-the-logical-volumes" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.16. Mount the Logical Volumes</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#8-uncovered-subjects" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">8. Uncovered Subjects</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#0-specs" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">0. Specs</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#01-the-what" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.1. The What</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#02-environment" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.2. Environment</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#03-sources" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">0.3. Sources</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#1-layers-of-lvm" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">1. Layers of LVM</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#10-abstract" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.0. Abstract</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#11-physical-volumes-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.1. Physical Volumes (PV)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#12-volume-groups-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.2. Volume Groups (VG)</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#13-logical-volumes-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1.3. Logical Volumes (LV)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#2-physical-volume-commands" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">2. Physical Volume Commands</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#21-pvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.1. pvs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#22-pvscan" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.2. pvscan</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#23-pvdisplay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.3. pvdisplay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#24-pvcreate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.4. pvcreate</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#25-pvremove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.5. pvremove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#26-pvmove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.6. pvmove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#27-pvresize" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.7. pvresize</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#28-pvchange" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.8. pvchange</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#29-pvck" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2.9. pvck</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#3-volume-group-commands" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3. Volume Group Commands</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#31-vgs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.1. vgs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#32-vgscan" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.2. vgscan</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#33-vgdisplay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.3. vgdisplay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#34-vgcreate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.4. vgcreate</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#35-vgextend" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.5. vgextend</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#36-vgreduce" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.6. vgreduce</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#37-vgremove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.7. vgremove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#38-vgchange" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.8. vgchange</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#39-vgrename" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.9. vgrename</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#310-vgck" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.10. vgck</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#311-other-commands" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">3.11. Other Commands</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#4-logical-volume-commands" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">4. Logical Volume Commands</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#41-lvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.1. lvs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#42-lvscan" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.2. lvscan</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#43-lvdisplay" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.3. lvdisplay</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#44-lvcreate" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.4. lvcreate</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#45-lvextend" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.5. lvextend</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#46-lvreduce" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.6. lvreduce</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#47-lvremove" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.7. lvremove</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#48-lvchange" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.8. lvchange</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#49-lvrename" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.9. lvrename</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#410-other-commands" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">4.10. Other Commands</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#5-case-study-1---installing-lvm-and-manipulating-disks-pvs-vgs-lvs" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">5. Case Study 1 - Installing LVM and Manipulating Disks, PVs, VGs, LVs</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#50-specs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.0. Specs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#51-install-lvm-packages" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.1. Install LVM Packages</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#52-add-20-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.2. Add 20 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#53-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.3. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#54-create-a-vg-from-the-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.4. Create a VG from the PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#55-create-a-lv-within-the-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.5. Create a LV within the VG</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#56-create-a-filesystem-in-the-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.6. Create a Filesystem in the LV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#57-mount-the-fs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.7. Mount the FS</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#58-add-30-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.8. Add 30 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#59-create-a-pv-from-the-second-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.9. Create a PV from the Second Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#510-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.10. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#511-extend-the-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.11. Extend the LV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#512-extend-the-filesystem" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.12. Extend the Filesystem</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#513-add-50-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.13. Add 50 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#514-create-a-pv-from-the-3rd-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.14. Create a PV from the 3rd Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#515-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.15. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#516-move-data-from-the-20-gb-and-30-gb-disks-to-the-50-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.16. Move Data from the 20 GB and 30 GB Disks to the 50 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#517-remove-the-20-gb-and-30-gb-disks-as-pvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.17. Remove the 20 GB and 30 GB Disks as PVs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#518-physically-remove-the-20-gb-and-30-gb-disks-and-verify" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">5.18. Physically Remove the 20 GB and 30 GB Disks and Verify</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#6-case-study-2---lvm-and-snapshot" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">6. Case Study 2 - LVM and Snapshot</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#60-specs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.0. Specs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#61-add-20-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.1. Add 20 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#62-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.2. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#63-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.3. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#64-extend-the-lv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.4. Extend the LV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#65-extend-the-filesystem" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.5. Extend the Filesystem</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#66-add-30-gb-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.6. Add 30 GB Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#67-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.7. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#68-extend-the-vg-with-this-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.8. Extend the VG with This PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#69-create-a-snapshot-of-the-system-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.9. Create a Snapshot of the System Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#610-make-changes-to-the-system-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.10. Make Changes to the System Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#611-mount-the-snapshot-and-check-its-content" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.11. Mount the Snapshot and Check Its Content</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#612-extend-the-snapshot" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.12. Extend the Snapshot</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#613-revert-to-the-snapshot" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">6.13. Revert to the Snapshot</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#7-case-study-3---export-and-import-of-lvm" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">7. Case Study 3 - Export and Import of LVM</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#70-specs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.0. Specs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#71-install-lvm-on-srva" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.1. Install LVM on srva</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#72-add-20-gb-disk-to-srva" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.2. Add 20 GB Disk to srva</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#73-create-a-pv-from-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.3. Create a PV from the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#74-create-a-vg-from-the-pv" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.4. Create a VG from the PV</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#75-create-2-lvs-within-the-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.5. Create 2 LVs within the VG</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#76-create-filesystems-in-the-lvs" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.6. Create Filesystems in the LVs</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#77-mount-the-filesystems" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.7. Mount the Filesystems</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#78-put-test-data-on-the-filesystems" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.8. Put Test Data on the Filesystems</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#79-unmount-logical-volumes" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.9. Unmount Logical Volumes</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#710-deactivate-all-logical-volumes-in-the-vg" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.10. Deactivate All Logical Volumes in the VG</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#711-export-the-vg-and-unplug-the-disk" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.11. Export the VG and Unplug the Disk</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#712-install-lvm-on-srvb" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.12. Install LVM on srvb</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#713-plug-the-disk-into-srvb" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.13. Plug the Disk into srvb</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#714-import-the-volume-group" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.14. Import the Volume Group</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#715-activate-the-volume-group" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.15. Activate the Volume Group</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#716-mount-the-logical-volumes" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">7.16. Mount the Logical Volumes</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#8-uncovered-subjects" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">8. Uncovered Subjects</span> </a>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">LVM (Logical Volume Management)</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <div class="sl-heading-wrapper level-h5"><h5 id="flexible-disk-management-with-lvm">Flexible disk management with LVM</h5><a class="sl-anchor-link" href="#flexible-disk-management-with-lvm"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œFlexible disk management with LVMâ€</span></a></div>
<div class="sl-heading-wrapper level-h2"><h2 id="0-specs">0. Specs</h2><a class="sl-anchor-link" href="#0-specs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ0. Specsâ€</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="01-the-what">0.1. The What</h3><a class="sl-anchor-link" href="#01-the-what"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ0.1. The Whatâ€</span></a></div>
<p>Logical Volume Manager (LVM) is a powerful tool for managing disk storage in Linux. It allows system administrators to create, resize, and manage disk partitions more flexibly than traditional partitioning methods.</p>
<p>LVM enables features such as volume resizing, snapshot creation, and effective management of multiple physical storage devices.</p>
<p><strong>Note:</strong> For optimal use, LVM should be configured during OS installation. This allows LVM to manage nearly all disk space (except the boot partition, which cannot be in LVM).</p>
<p>It is also possible to install the OS without LVM and add it later. However, to use LVM for the <code dir="auto">/</code> (root) partition, it must be set up during OS installation.</p>
<p>If the OS was installed without LVM, you can install the LVM package as follows:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt update</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt -y install lvm2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt updatesudo apt -y install lvm2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="02-environment">0.2. Environment</h3><a class="sl-anchor-link" href="#02-environment"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ0.2. Environmentâ€</span></a></div>
<p>Tested on the following distributions:</p>
<ul>
<li>Debian 12</li>
<li>Debian 13</li>
<li>Ubuntu 22.04 LTS Server</li>
<li>Ubuntu 24.04 LTS Server</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="03-sources">0.3. Sources</h3><a class="sl-anchor-link" href="#03-sources"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ0.3. Sourcesâ€</span></a></div>
<ul>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/index">Red Hat Documentation</a></li>
<li><a href="https://www.deepseek.com/">Deepseek</a></li>
<li><a href="https://chatgpt.com/">ChatGPT</a></li>
</ul>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="1-layers-of-lvm">1. Layers of LVM</h2><a class="sl-anchor-link" href="#1-layers-of-lvm"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1. Layers of LVMâ€</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="10-abstract">1.0. Abstract</h3><a class="sl-anchor-link" href="#10-abstract"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.0. Abstractâ€</span></a></div>
<p>LVM is structured in three layers:</p>
<ol>
<li><strong>Physical Volumes (PV)</strong> â€“ Created from disks or partitions.</li>
<li><strong>Volume Groups (VG)</strong> â€“ Formed by combining PVs.</li>
<li><strong>Logical Volumes (LV)</strong> â€“ Defined within VGs.</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="11-physical-volumes-pv">1.1. Physical Volumes (PV)</h3><a class="sl-anchor-link" href="#11-physical-volumes-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.1. Physical Volumes (PV)â€</span></a></div>
<p>Storage devices or partitions used by LVM as building blocks. These can be:</p>
<ul>
<li>A complete hard drive</li>
<li>A disk partition</li>
<li>A RAID array</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="12-volume-groups-vg">1.2. Volume Groups (VG)</h3><a class="sl-anchor-link" href="#12-volume-groups-vg"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.2. Volume Groups (VG)â€</span></a></div>
<p>Collections of one or more physical volumes. VGs act as a storage pool, aggregating space from multiple PVs. Logical volumes are created within volume groups.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="13-logical-volumes-lv">1.3. Logical Volumes (LV)</h3><a class="sl-anchor-link" href="#13-logical-volumes-lv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3. Logical Volumes (LV)â€</span></a></div>
<p>Abstract representations of a portion of a volume group, similar to partitions in traditional disk management. LVs can be resized and moved without affecting stored data.</p>
<p>There are six main types of logical volumes:</p>
<div class="sl-heading-wrapper level-h4"><h4 id="131-linear-logical-volume">1.3.1. Linear Logical Volume</h4><a class="sl-anchor-link" href="#131-linear-logical-volume"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3.1. Linear Logical Volumeâ€</span></a></div>
<p>The default logical volume type. Data is stored sequentially.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="132-mirrored-logical-volume">1.3.2. Mirrored Logical Volume</h4><a class="sl-anchor-link" href="#132-mirrored-logical-volume"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3.2. Mirrored Logical Volumeâ€</span></a></div>
<p>Provides data redundancy by maintaining multiple copies (mirrors) of the data. Offers fault tolerance: if one mirror fails, the others remain usable.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="133-snapshot-logical-volume">1.3.3. Snapshot Logical Volume</h4><a class="sl-anchor-link" href="#133-snapshot-logical-volume"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3.3. Snapshot Logical Volumeâ€</span></a></div>
<p>Creates a point-in-time copy (snapshot) of an existing logical volume. Useful for backups or creating consistent volume images for testing.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="134-thin-logical-volume">1.3.4. Thin Logical Volume</h4><a class="sl-anchor-link" href="#134-thin-logical-volume"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3.4. Thin Logical Volumeâ€</span></a></div>
<p>Enables efficient storage allocation through thin provisioning. Space is allocated only as needed, allowing more flexible use of storage resources.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="135-cache-logical-volume">1.3.5. Cache Logical Volume</h4><a class="sl-anchor-link" href="#135-cache-logical-volume"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3.5. Cache Logical Volumeâ€</span></a></div>
<p>Used to cache data for another logical volume, improving performance. Typically used with SSDs to cache data from slower spinning disks.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="136-striped-logical-volume">1.3.6. Striped Logical Volume</h4><a class="sl-anchor-link" href="#136-striped-logical-volume"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ1.3.6. Striped Logical Volumeâ€</span></a></div>
<p>Stripes data evenly across multiple physical volumes to enhance I/O performance. Allows parallel read and write operations.</p>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="2-physical-volume-commands">2. Physical Volume Commands</h2><a class="sl-anchor-link" href="#2-physical-volume-commands"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2. Physical Volume Commandsâ€</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="21-pvs">2.1. pvs</h3><a class="sl-anchor-link" href="#21-pvs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.1. pvsâ€</span></a></div>
<p>Displays physical volume information in a configurable format, showing one line per physical volume.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvs</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvs /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvssudo pvs /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="22-pvscan">2.2. pvscan</h3><a class="sl-anchor-link" href="#22-pvscan"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.2. pvscanâ€</span></a></div>
<p>Scans all supported LVM block devices for physical volumes.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvscan</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvscan"><div></div></button></div></figure></div>
<p>Locates and identifies physical volumes on the system and updates the LVM metadata cache.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="23-pvdisplay">2.3. pvdisplay</h3><a class="sl-anchor-link" href="#23-pvdisplay"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.3. pvdisplayâ€</span></a></div>
<p>Provides a verbose multi-line output for each physical volume.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvdisplay</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvdisplay /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvdisplaysudo pvdisplay /dev/sdb"><div></div></button></div></figure></div>
<p>Display a mapping of physical extents to corresponding logical volumes:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvdisplay -m /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvdisplay -m /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="24-pvcreate">2.4. pvcreate</h3><a class="sl-anchor-link" href="#24-pvcreate"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.4. pvcreateâ€</span></a></div>
<p>Initializes a physical volume for use by LVM.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdb</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdbsudo pvcreate /dev/sdb1"><div></div></button></div></figure></div>
<p><strong>Warning:</strong> Ensure the device or partition is not in use, as it will be erased.</p>
<p>After initialization, you can create or extend volume groups using <code dir="auto">vgcreate</code> or <code dir="auto">vgextend</code>, respectively.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="25-pvremove">2.5. pvremove</h3><a class="sl-anchor-link" href="#25-pvremove"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.5. pvremoveâ€</span></a></div>
<p>Removes LVM metadata from a physical volume.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvremove /dev/sdb</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvremove /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvremove /dev/sdbsudo pvremove /dev/sdb1"><div></div></button></div></figure></div>
<p><strong>Warning:</strong> Ensure you are not removing a PV that is still in use. Remove any associated logical volumes and volume groups before running <code dir="auto">pvremove</code>.</p>
<p>After removal, the device or partition can be repurposed (e.g., for a new partition or filesystem).</p>
<div class="sl-heading-wrapper level-h3"><h3 id="26-pvmove">2.6. pvmove</h3><a class="sl-anchor-link" href="#26-pvmove"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.6. pvmoveâ€</span></a></div>
<p>Moves allocated physical extents from one physical volume to another within the same volume group.</p>
<p>Move all data from <code dir="auto">/dev/sda1</code> to <code dir="auto">/dev/sdb1</code> (both must be in the same VG):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvmove /dev/sda1 /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvmove /dev/sda1 /dev/sdb1"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="27-pvresize">2.7. pvresize</h3><a class="sl-anchor-link" href="#27-pvresize"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.7. pvresizeâ€</span></a></div>
<p>Resizes a physical volume.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvresize /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvresize /dev/sdb1"><div></div></button></div></figure></div>
<p>Used when the underlying block device has been resized.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="28-pvchange">2.8. pvchange</h3><a class="sl-anchor-link" href="#28-pvchange"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.8. pvchangeâ€</span></a></div>
<p>Changes properties (allocatable, UUID, tags, etc.) of a physical volume.</p>
<p>Make <code dir="auto">/dev/sdb1</code> allocatable:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvchange -x y /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvchange -x y /dev/sdb1"><div></div></button></div></figure></div>
<p>Deactivate (disable) the physical volume in verbose mode:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvchange -x y /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvchange -x y /dev/sdb1"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="29-pvck">2.9. pvck</h3><a class="sl-anchor-link" href="#29-pvck"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ2.9. pvckâ€</span></a></div>
<p>Checks and repairs LVM metadata on physical volumes.</p>
<p>Check a PV:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvck /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvck /dev/sdb1"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="3-volume-group-commands">3. Volume Group Commands</h2><a class="sl-anchor-link" href="#3-volume-group-commands"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3. Volume Group Commandsâ€</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="31-vgs">3.1. vgs</h3><a class="sl-anchor-link" href="#31-vgs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.1. vgsâ€</span></a></div>
<p>This command provides volume group information in a configurable form, displaying one line per volume group.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgs</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgs myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgssudo vgs myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="32-vgscan">3.2. vgscan</h3><a class="sl-anchor-link" href="#32-vgscan"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.2. vgscanâ€</span></a></div>
<p>Scans all supported LVM block devices in the system for volume groups and updates the LVM metadata cache.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgscan</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgscan"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="33-vgdisplay">3.3. vgdisplay</h3><a class="sl-anchor-link" href="#33-vgdisplay"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.3. vgdisplayâ€</span></a></div>
<p>Displays volume group properties such as size, extents, number of physical volumes, and other details in a fixed format.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgdisplay</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgdisplay myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgdisplaysudo vgdisplay myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="34-vgcreate">3.4. vgcreate</h3><a class="sl-anchor-link" href="#34-vgcreate"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.4. vgcreateâ€</span></a></div>
<p>Creates a new volume group.</p>
<p>Create a new volume group named <code dir="auto">myvg</code> using the physical volume <code dir="auto">/dev/sdb1</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgcreate myvg /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgcreate myvg /dev/sdb1"><div></div></button></div></figure></div>
<p><strong>Prerequisite:</strong> The specified physical volumes must be initialized with <code dir="auto">pvcreate</code>.</p>
<p><strong>Note:</strong> Volume group names are case-sensitive. The new volume groupâ€™s total capacity will be the sum of the capacities of the specified physical volumes. After creation, you can proceed to create logical volumes within it.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="35-vgextend">3.5. vgextend</h3><a class="sl-anchor-link" href="#35-vgextend"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.5. vgextendâ€</span></a></div>
<p>Adds physical volumes to an existing volume group.</p>
<p>Add physical volume <code dir="auto">/dev/sdb2</code> to the volume group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgextend myvg /dev/sdb2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgextend myvg /dev/sdb2"><div></div></button></div></figure></div>
<p><strong>Prerequisite:</strong> The physical volumes to be added must already be initialized using <code dir="auto">pvcreate</code>. After extending a volume group, you can use the additional space to extend existing logical volumes or create new ones.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="36-vgreduce">3.6. vgreduce</h3><a class="sl-anchor-link" href="#36-vgreduce"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.6. vgreduceâ€</span></a></div>
<p>Removes one or more physical volumes from a volume group.</p>
<p>Remove <code dir="auto">/dev/sdb2</code> from volume group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgreduce myvg /dev/sdb1</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgreduce myvg /dev/sdb1"><div></div></button></div></figure></div>
<p><strong>Note:</strong> You must first ensure the PV contains no allocated extents (use <code dir="auto">pvmove</code> to relocate data). Otherwise, the command will fail unless forced, which can lead to data loss.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="37-vgremove">3.7. vgremove</h3><a class="sl-anchor-link" href="#37-vgremove"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.7. vgremoveâ€</span></a></div>
<p>Removes a volume group.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgremove myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgremove myvg"><div></div></button></div></figure></div>
<p><strong>Prerequisites:</strong> You must first remove all logical volumes within the volume group using <code dir="auto">lvremove</code>. Also, ensure any filesystems mounted from those logical volumes are unmounted. After removal, the physical volumes become unallocated and can be repurposed.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="38-vgchange">3.8. vgchange</h3><a class="sl-anchor-link" href="#38-vgchange"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.8. vgchangeâ€</span></a></div>
<p>Changes the attributes of a volume group.</p>
<p>Activate (enable) the volume group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgchange -a y myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgchange -a y myvg"><div></div></button></div></figure></div>
<p><em>( <code dir="auto">-a y</code> activates; <code dir="auto">-a n</code> deactivates the volume group.)</em></p>
<div class="sl-heading-wrapper level-h3"><h3 id="39-vgrename">3.9. vgrename</h3><a class="sl-anchor-link" href="#39-vgrename"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.9. vgrenameâ€</span></a></div>
<p>Renames a volume group.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgrename oldvg newvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgrename oldvg newvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="310-vgck">3.10. vgck</h3><a class="sl-anchor-link" href="#310-vgck"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.10. vgckâ€</span></a></div>
<p>Checks the consistency of volume group metadata.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgck</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgck"><div></div></button></div></figure></div>
<p>The <code dir="auto">--updatemetadata</code> flag rewrites VG metadata to correct inconsistencies:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgck --updatemetadata myvg -v</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgck --updatemetadata myvg -v"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="311-other-commands">3.11. Other Commands</h3><a class="sl-anchor-link" href="#311-other-commands"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ3.11. Other Commandsâ€</span></a></div>
<ul>
<li><code dir="auto">vgcfgbackup</code>: Backs up volume group configurations.</li>
<li><code dir="auto">vgcfgrestore</code>: Restores volume group configuration.</li>
<li><code dir="auto">vgconvert</code>: Changes volume group metadata format.</li>
<li><code dir="auto">vgexport</code>: Unregisters volume group(s) from the system.</li>
<li><code dir="auto">vgimport</code>: Registers an exported volume group with the system.</li>
<li><code dir="auto">vgimportclone</code>: Imports a VG from cloned PVs.</li>
<li><code dir="auto">vgmerge</code>: Merges volume groups.</li>
<li><code dir="auto">vgmknodes</code>: Creates the special device files for volume groups in <code dir="auto">/dev</code>.</li>
<li><code dir="auto">vgsplit</code>: Moves PVs into a new or existing volume group.</li>
</ul>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="4-logical-volume-commands">4. Logical Volume Commands</h2><a class="sl-anchor-link" href="#4-logical-volume-commands"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4. Logical Volume Commandsâ€</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="41-lvs">4.1. lvs</h3><a class="sl-anchor-link" href="#41-lvs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.1. lvsâ€</span></a></div>
<p>Provides logical volume information in a configurable form, displaying one line per logical volume.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvs</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvs /dev/vg_name/lv_name</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvs /dev/myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvssudo lvs /dev/vg_name/lv_namesudo lvs /dev/myvg/mylv"><div></div></button></div></figure></div>
<p>To list all LVs in a specific VG:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvs /dev/vg_name</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvs /dev/myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvs /dev/vg_namesudo lvs /dev/myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="42-lvscan">4.2. lvscan</h3><a class="sl-anchor-link" href="#42-lvscan"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.2. lvscanâ€</span></a></div>
<p>Scans for and lists all logical volumes in the system.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvscan</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvscan"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="43-lvdisplay">4.3. lvdisplay</h3><a class="sl-anchor-link" href="#43-lvdisplay"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.3. lvdisplayâ€</span></a></div>
<p>Displays logical volume properties, such as size, layout, and mapping, in a fixed format.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvdisplay</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvdisplay myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvdisplaysudo lvdisplay myvg/mylv"><div></div></button></div></figure></div>
<p>To display sizes in megabytes:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvdisplay --unit m myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvdisplay --unit m myvg/mylv"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="44-lvcreate">4.4. lvcreate</h3><a class="sl-anchor-link" href="#44-lvcreate"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.4. lvcreateâ€</span></a></div>
<p>Creates a new logical volume within a volume group.</p>
<p>Create a new LV named <code dir="auto">mylv</code> in the <code dir="auto">myvg</code> volume group with a size of 11 GB:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvcreate -L 11G -n mylv myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvcreate -L 11G -n mylv myvg"><div></div></button></div></figure></div>
<p>Format the newly created logical volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkfs -t ext4 /dev/myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkfs -t ext4 /dev/myvg/mylv"><div></div></button></div></figure></div>
<p>Mount it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/point</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount /dev/myvg/mylv /mnt/point</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkdir /mnt/pointsudo mount /dev/myvg/mylv /mnt/point"><div></div></button></div></figure></div>
<p>Unmount it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo umount /mnt/point</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo umount /mnt/point"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="45-lvextend">4.5. lvextend</h3><a class="sl-anchor-link" href="#45-lvextend"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.5. lvextendâ€</span></a></div>
<p>Extends the size of a logical volume.</p>
<p>Extend the <code dir="auto">mylv</code> logical volume by 2 GB:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvextend -L +2G myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvextend -L +2G myvg/mylv"><div></div></button></div></figure></div>
<p>Resize the filesystem to use the new space:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo resize2fs /dev/myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo resize2fs /dev/myvg/mylv"><div></div></button></div></figure></div>
<p><strong>Note:</strong> <code dir="auto">resize2fs</code> may require a clean filesystem. If prompted, run <code dir="auto">sudo e2fsck -f /dev/myvg/mylv</code> first.</p>
<p>For XFS filesystems, use <code dir="auto">xfs_growfs</code> instead of <code dir="auto">resize2fs</code>.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="46-lvreduce">4.6. lvreduce</h3><a class="sl-anchor-link" href="#46-lvreduce"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.6. lvreduceâ€</span></a></div>
<p>Reduces the size of a logical volume.</p>
<p>Reduce the logical volume mylv in the volume group myvg by 1 GB:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvreduce -L -1G myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvreduce -L -1G myvg/mylv"><div></div></button></div></figure></div>
<p>Resize the file system (you may need to unmount the LV)</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo resize2fs /dev/myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo resize2fs /dev/myvg/mylv"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="47-lvremove">4.7. lvremove</h3><a class="sl-anchor-link" href="#47-lvremove"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.7. lvremoveâ€</span></a></div>
<p>Removes a logical volume.</p>
<p>Remove the logical volume <code dir="auto">mylv</code> in the volume group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvremove myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvremove myvg/mylv"><div></div></button></div></figure></div>
<p><strong>Warning:</strong> This action is irreversible and will permanently destroy all data on the logical volume. Ensure any filesystems mounted from it are unmounted first.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="48-lvchange">4.8. lvchange</h3><a class="sl-anchor-link" href="#48-lvchange"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.8. lvchangeâ€</span></a></div>
<p>Changes the attributes and status of a logical volume, such as activation state or permission flags.</p>
<p>Deactivate the logical volume <code dir="auto">mylv</code> in the volume group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvchange -a n myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvchange -a n myvg/mylv"><div></div></button></div></figure></div>
<p>Activate it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvchange -a y myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvchange -a y myvg/mylv"><div></div></button></div></figure></div>
<p>Set the logical volume to read-only:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvchange -p r myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvchange -p r myvg/mylv"><div></div></button></div></figure></div>
<p>Set it back to read/write:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvchange -p rw myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvchange -p rw myvg/mylv"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="49-lvrename">4.9. lvrename</h3><a class="sl-anchor-link" href="#49-lvrename"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.9. lvrenameâ€</span></a></div>
<p>Renames a logical volume.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvrename myvg mylv mynewlv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvrename myvg mylv mynewlv2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="410-other-commands">4.10. Other Commands</h3><a class="sl-anchor-link" href="#410-other-commands"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ4.10. Other Commandsâ€</span></a></div>
<ul>
<li><code dir="auto">lvconvert</code>: Changes logical volume layout (e.g., to/from mirrored, snapshot).</li>
<li><code dir="auto">lvresize</code>: A combined command that can extend or reduce a logical volume (use with the same caution as <code dir="auto">lvreduce</code>).</li>
</ul>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="5-case-study-1---installing-lvm-and-manipulating-disks-pvs-vgs-lvs">5. Case Study 1 - Installing LVM and Manipulating Disks, PVs, VGs, LVs</h2><a class="sl-anchor-link" href="#5-case-study-1---installing-lvm-and-manipulating-disks-pvs-vgs-lvs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5. Case Study 1 - Installing LVM and Manipulating Disks, PVs, VGs, LVsâ€</span></a></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="50-specs">5.0. Specs</h3><a class="sl-anchor-link" href="#50-specs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.0. Specsâ€</span></a></div>
<p>We have a system installed without LVM.</p>
<ul>
<li>Add a 20 GB disk and use it as a LV.</li>
<li>Add a 30 GB disk and extend the LV.</li>
<li>Add a 50 GB disk, extend the VG and move data to this disk.</li>
<li>Remove 20 GB and 30 GB disks.</li>
</ul>
<p><strong>The steps:</strong></p>
<ol>
<li>Install LVM.</li>
<li>Add a 20 GB disk.</li>
<li>Create a PV from the disk.</li>
<li>Create a VG from the PV.</li>
<li>Create an LV within the VG.</li>
<li>Create a filesystem on the LV.</li>
<li>Mount the filesystem.</li>
<li>Add a 30 GB disk.</li>
<li>Create a PV from the 2nd disk.</li>
<li>Extend the VG with this PV.</li>
<li>Extend the LV.</li>
<li>Extend the filesystem.</li>
<li>Add a 50 GB disk.</li>
<li>Create a PV from the 3rd disk.</li>
<li>Extend the VG with this PV.</li>
<li>Move data from the 20 GB and 30 GB disks to the 50 GB disk.</li>
<li>Remove the 20 GB and 30 GB disks as PVs.</li>
<li>Physically remove the 20 GB and 30 GB disks and verify everything works.</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="51-install-lvm-packages">5.1. Install LVM Packages</h3><a class="sl-anchor-link" href="#51-install-lvm-packages"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.1. Install LVM Packagesâ€</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt update</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt -y install lvm2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt updatesudo apt -y install lvm2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="52-add-20-gb-disk">5.2. Add 20 GB Disk</h3><a class="sl-anchor-link" href="#52-add-20-gb-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.2. Add 20 GB Diskâ€</span></a></div>
<p>Output of <code dir="auto">lsblk -i</code> command before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]"><div></div></button></div></figure></div>
<p><strong>For physical servers</strong>, you need to add the disk to the hardware. <strong>For virtual servers</strong>, you need to define it and attach it to the VM.</p>
<p>Iâ€™m adding a 20 GB disk to my VM.</p>
<p>Output of the <code dir="auto">lsblk -i</code> command after adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb      8:16   0   20G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]sdb      8:16   0   20G  0 disk"><div></div></button></div></figure></div>
<p>This means my new disk is <code dir="auto">/dev/sdb</code>. <strong>In the following steps, change <code dir="auto">/dev/sdb</code> to your actual disk device name.</strong></p>
<div class="sl-heading-wrapper level-h3"><h3 id="53-create-a-pv-from-the-disk">5.3. Create a PV from the Disk</h3><a class="sl-anchor-link" href="#53-create-a-pv-from-the-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.3. Create a PV from the Diskâ€</span></a></div>
<p>Mark <code dir="auto">/dev/sdb</code> as a Physical Volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="54-create-a-vg-from-the-pv">5.4. Create a VG from the PV</h3><a class="sl-anchor-link" href="#54-create-a-vg-from-the-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.4. Create a VG from the PVâ€</span></a></div>
<p>Create a Volume Group named <code dir="auto">myvg</code> using <code dir="auto">/dev/sdb</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgcreate myvg /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgcreate myvg /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="55-create-a-lv-within-the-vg">5.5. Create a LV within the VG</h3><a class="sl-anchor-link" href="#55-create-a-lv-within-the-vg"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.5. Create a LV within the VGâ€</span></a></div>
<p>Create the Logical Volume using the maximum available space and name it <code dir="auto">mylv</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvcreate -l +100%FREE -n mylv myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvcreate -l +100%FREE -n mylv myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="56-create-a-filesystem-in-the-lv">5.6. Create a Filesystem in the LV</h3><a class="sl-anchor-link" href="#56-create-a-filesystem-in-the-lv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.6. Create a Filesystem in the LVâ€</span></a></div>
<p>Format it as Ext4:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkfs -t ext4 /dev/myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkfs -t ext4 /dev/myvg/mylv"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="57-mount-the-fs">5.7. Mount the FS</h3><a class="sl-anchor-link" href="#57-mount-the-fs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.7. Mount the FSâ€</span></a></div>
<p>Create a mount point:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkdir /mnt/mylv"><div></div></button></div></figure></div>
<p>Mount <code dir="auto">mylv</code> to the mount point <code dir="auto">/mnt/mylv</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount /dev/myvg/mylv /mnt/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mount /dev/myvg/mylv /mnt/mylv"><div></div></button></div></figure></div>
<p>To make the mount persistent, add it to <code dir="auto">/etc/fstab</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo nano /etc/fstab</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo nano /etc/fstab"><div></div></button></div></figure></div>
<p>Add this line to the end of the file:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/myvg/mylv    /mnt/mylv    ext4    defaults    0 0</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="/dev/myvg/mylv    /mnt/mylv    ext4    defaults    0 0"><div></div></button></div></figure></div>
<p>Check with <code dir="auto">lsblk</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">lsblk -i</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="lsblk -i"><div></div></button></div></figure></div>
<p>Output:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda           8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1        8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2        8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5        8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb           8:16   0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-myvg-mylv 254:0    0   20G  0 lvm  /mnt/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda           8:0    0 22.9G  0 disk|-sda1        8:1    0   22G  0 part /|-sda2        8:2    0    1K  0 part&#x60;-sda5        8:5    0  976M  0 part [SWAP]sdb           8:16   0   20G  0 disk&#x60;-myvg-mylv 254:0    0   20G  0 lvm  /mnt/mylv"><div></div></button></div></figure></div>
<p>Check with <code dir="auto">df -h</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">df -h</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="df -h"><div></div></button></div></figure></div>
<p>Output:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Filesystem             Size  Used Avail Use% Mounted on</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">udev                   457M     0  457M   0% /dev</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M  544K   96M   1% /run</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/sda1               22G  1.8G   19G   9% /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  481M     0  481M   0% /dev/shm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  5.0M     0  5.0M   0% /run/lock</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/mapper/myvg-mylv   20G   44K   19G   1% /mnt/mylv</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M     0   97M   0% /run/user/1000</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Filesystem             Size  Used Avail Use% Mounted onudev                   457M     0  457M   0% /devtmpfs                   97M  544K   96M   1% /run/dev/sda1               22G  1.8G   19G   9% /tmpfs                  481M     0  481M   0% /dev/shmtmpfs                  5.0M     0  5.0M   0% /run/lock/dev/mapper/myvg-mylv   20G   44K   19G   1% /mnt/mylvtmpfs                   97M     0   97M   0% /run/user/1000"><div></div></button></div></figure></div>
<p><strong>Create some large files in the filesystem:</strong></p>
<p>Create a directory for files:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/mylv/tmp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkdir /mnt/mylv/tmp"><div></div></button></div></figure></div>
<p>Make it writable for everyone:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo chmod 777 /mnt/mylv/tmp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo chmod 777 /mnt/mylv/tmp"><div></div></button></div></figure></div>
<p>Create 3 files of 500 MB each:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c500M > /mnt/mylv/tmp/file1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c500M > /mnt/mylv/tmp/file2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c500M > /mnt/mylv/tmp/file3</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c500M > /mnt/mylv/tmp/file1< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c500M > /mnt/mylv/tmp/file2< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c500M > /mnt/mylv/tmp/file3"><div></div></button></div></figure></div>
<p>Check the contents:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv/tmp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ls -al /mnt/mylv/tmp"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="58-add-30-gb-disk">5.8. Add 30 GB Disk</h3><a class="sl-anchor-link" href="#58-add-30-gb-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.8. Add 30 GB Diskâ€</span></a></div>
<p>Iâ€™m adding a 30 GB disk to my VM.</p>
<p>Output of <code dir="auto">lsblk -i</code> after adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda           8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1        8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2        8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5        8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb           8:16   0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-myvg-mylv 254:0    0   20G  0 lvm  /mnt/mylv</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdc           8:32   0   30G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSNAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda           8:0    0 22.9G  0 disk|-sda1        8:1    0   22G  0 part /|-sda2        8:2    0    1K  0 part&#x60;-sda5        8:5    0  976M  0 part [SWAP]sdb           8:16   0   20G  0 disk&#x60;-myvg-mylv 254:0    0   20G  0 lvm  /mnt/mylvsdc           8:32   0   30G  0 disk"><div></div></button></div></figure></div>
<p>This means my new disk is <code dir="auto">/dev/sdc</code>. <strong>Change <code dir="auto">/dev/sdc</code> to your actual disk device name in the following steps.</strong></p>
<div class="sl-heading-wrapper level-h3"><h3 id="59-create-a-pv-from-the-second-disk">5.9. Create a PV from the Second Disk</h3><a class="sl-anchor-link" href="#59-create-a-pv-from-the-second-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.9. Create a PV from the Second Diskâ€</span></a></div>
<p>Mark <code dir="auto">/dev/sdc</code> as a Physical Volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdc</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdc"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="510-extend-the-vg-with-this-pv">5.10. Extend the VG with This PV</h3><a class="sl-anchor-link" href="#510-extend-the-vg-with-this-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.10. Extend the VG with This PVâ€</span></a></div>
<p>Add <code dir="auto">/dev/sdc</code> to the Volume Group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgextend myvg /dev/sdc</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgextend myvg /dev/sdc"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="511-extend-the-lv">5.11. Extend the LV</h3><a class="sl-anchor-link" href="#511-extend-the-lv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.11. Extend the LVâ€</span></a></div>
<p>Extend the <code dir="auto">mylv</code> Logical Volume to use all available free space:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvextend -l +100%FREE  myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvextend -l +100%FREE  myvg/mylv"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="512-extend-the-filesystem">5.12. Extend the Filesystem</h3><a class="sl-anchor-link" href="#512-extend-the-filesystem"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.12. Extend the Filesystemâ€</span></a></div>
<p>Resize the filesystem to use the new space:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo resize2fs /dev/myvg/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo resize2fs /dev/myvg/mylv"><div></div></button></div></figure></div>
<p>Check the new size with <code dir="auto">df -h</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">df -h</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="df -h"><div></div></button></div></figure></div>
<p>Output:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Filesystem             Size  Used Avail Use% Mounted on</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">udev                   457M     0  457M   0% /dev</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M  548K   96M   1% /run</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/sda1               22G  3.2G   18G  16% /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  481M     0  481M   0% /dev/shm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  5.0M     0  5.0M   0% /run/lock</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/mapper/myvg-mylv   50G  1.5G   46G   4% /mnt/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Filesystem             Size  Used Avail Use% Mounted onudev                   457M     0  457M   0% /devtmpfs                   97M  548K   96M   1% /run/dev/sda1               22G  3.2G   18G  16% /tmpfs                  481M     0  481M   0% /dev/shmtmpfs                  5.0M     0  5.0M   0% /run/lock/dev/mapper/myvg-mylv   50G  1.5G   46G   4% /mnt/mylv"><div></div></button></div></figure></div>
<p>Add another large file:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c500M > /mnt/mylv/tmp/file4</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c500M > /mnt/mylv/tmp/file4"><div></div></button></div></figure></div>
<p>Check the contents:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv/tmp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ls -al /mnt/mylv/tmp"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="513-add-50-gb-disk">5.13. Add 50 GB Disk</h3><a class="sl-anchor-link" href="#513-add-50-gb-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.13. Add 50 GB Diskâ€</span></a></div>
<p>Iâ€™m adding a 50 GB disk to my VM.</p>
<p>Output of <code dir="auto">lsblk -i</code> after adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda           8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1        8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2        8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5        8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb           8:16   0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-myvg-mylv 254:0    0   30G  0 lvm  /mnt/mylv</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdc           8:32   0   30G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-myvg-mylv 254:0    0   30G  0 lvm  /mnt/mylv</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdd           8:48   0   50G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda           8:0    0 22.9G  0 disk|-sda1        8:1    0   22G  0 part /|-sda2        8:2    0    1K  0 part&#x60;-sda5        8:5    0  976M  0 part [SWAP]sdb           8:16   0   20G  0 disk&#x60;-myvg-mylv 254:0    0   30G  0 lvm  /mnt/mylvsdc           8:32   0   30G  0 disk&#x60;-myvg-mylv 254:0    0   30G  0 lvm  /mnt/mylvsdd           8:48   0   50G  0 disk"><div></div></button></div></figure></div>
<p>This means my new disk is <code dir="auto">/dev/sdd</code>. <strong>Change <code dir="auto">/dev/sdd</code> to your actual disk device name in the following steps.</strong></p>
<div class="sl-heading-wrapper level-h3"><h3 id="514-create-a-pv-from-the-3rd-disk">5.14. Create a PV from the 3rd Disk</h3><a class="sl-anchor-link" href="#514-create-a-pv-from-the-3rd-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.14. Create a PV from the 3rd Diskâ€</span></a></div>
<p>Mark <code dir="auto">/dev/sdd</code> as a Physical Volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdd</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdd"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="515-extend-the-vg-with-this-pv">5.15. Extend the VG with This PV</h3><a class="sl-anchor-link" href="#515-extend-the-vg-with-this-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.15. Extend the VG with This PVâ€</span></a></div>
<p>Add <code dir="auto">/dev/sdd</code> to the Volume Group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgextend myvg /dev/sdd</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgextend myvg /dev/sdd"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="516-move-data-from-the-20-gb-and-30-gb-disks-to-the-50-gb-disk">5.16. Move Data from the 20 GB and 30 GB Disks to the 50 GB Disk</h3><a class="sl-anchor-link" href="#516-move-data-from-the-20-gb-and-30-gb-disks-to-the-50-gb-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.16. Move Data from the 20 GB and 30 GB Disks to the 50 GB Diskâ€</span></a></div>
<p>Move data from the 20 GB disk (<code dir="auto">sdb</code>) to the 50 GB disk (<code dir="auto">sdd</code>):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvmove /dev/sdb /dev/sdd</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvmove /dev/sdb /dev/sdd"><div></div></button></div></figure></div>
<p>Move data from the 30 GB disk (<code dir="auto">sdc</code>) to the 50 GB disk (<code dir="auto">sdd</code>):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvmove /dev/sdc /dev/sdd</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvmove /dev/sdc /dev/sdd"><div></div></button></div></figure></div>
<p><strong>Note:</strong> These operations may take some time, depending on the amount of data.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="517-remove-the-20-gb-and-30-gb-disks-as-pvs">5.17. Remove the 20 GB and 30 GB Disks as PVs</h3><a class="sl-anchor-link" href="#517-remove-the-20-gb-and-30-gb-disks-as-pvs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.17. Remove the 20 GB and 30 GB Disks as PVsâ€</span></a></div>
<p>First, remove them from the Volume Group:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgreduce myvg /dev/sdb</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgreduce myvg /dev/sdc</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgreduce myvg /dev/sdbsudo vgreduce myvg /dev/sdc"><div></div></button></div></figure></div>
<p>Now, remove the Physical Volume metadata from the disks:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvremove /dev/sdb</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvremove /dev/sdc</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvremove /dev/sdbsudo pvremove /dev/sdc"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="518-physically-remove-the-20-gb-and-30-gb-disks-and-verify">5.18. Physically Remove the 20 GB and 30 GB Disks and Verify</h3><a class="sl-anchor-link" href="#518-physically-remove-the-20-gb-and-30-gb-disks-and-verify"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ5.18. Physically Remove the 20 GB and 30 GB Disks and Verifyâ€</span></a></div>
<p>At this step, we physically remove (or detach) the 20 GB and 30 GB disks from the system.</p>
<p>Output of <code dir="auto">lsblk -i</code> after removing the disks:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda           8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1        8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2        8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5        8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb           8:16   0   50G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-myvg-mylv 254:0    0   30G  0 lvm  /mnt/mylv</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda           8:0    0 22.9G  0 disk|-sda1        8:1    0   22G  0 part /|-sda2        8:2    0    1K  0 part&#x60;-sda5        8:5    0  976M  0 part [SWAP]sdb           8:16   0   50G  0 disk&#x60;-myvg-mylv 254:0    0   30G  0 lvm  /mnt/mylv"><div></div></button></div></figure></div>
<p>As you can see, <code dir="auto">/dev/sdd</code> has become <code dir="auto">/dev/sdb</code>, but this is not a problem. Our LVM configuration is still working correctly.</p>
<p>Check the contents to confirm data integrity:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv/tmp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ls -al /mnt/mylv/tmp"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="6-case-study-2---lvm-and-snapshot">6. Case Study 2 - LVM and Snapshot</h2><a class="sl-anchor-link" href="#6-case-study-2---lvm-and-snapshot"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6. Case Study 2 - LVM and Snapshotâ€</span></a></div>
<hr>
<p>A snapshot creates a point-in-time copy of a Logical Volume (LV). When files are changed on the original volume after the snapshot is taken, the original data blocks are preserved in the snapshot space. This allows you to revert to the snapshot state if needed.</p>
<p>Because only changed data blocks are stored, snapshots typically require much less space than the original volume.</p>
<p><strong>Important:</strong> If a snapshot becomes full (runs out of space to track changes), it becomes invalid and is automatically dropped, which can lead to data loss. Snapshots are resizable to prevent this.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="60-specs">6.0. Specs</h3><a class="sl-anchor-link" href="#60-specs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.0. Specsâ€</span></a></div>
<p>We have a system installed with LVM.</p>
<ul>
<li>Add a 20 GB disk and use it to extend the system (<code dir="auto">/</code>) disk.</li>
<li>Add a 30 GB disk and add it to the existing Volume Group.</li>
<li>Create a snapshot of the root filesystem using space from the new 30 GB disk.</li>
<li>Make significant changes to the system and revert using the snapshot.</li>
</ul>
<p><strong>The steps:</strong></p>
<ol>
<li>Add a 20 GB disk.</li>
<li>Create a PV from the disk.</li>
<li>Extend the VG with this PV.</li>
<li>Extend the root LV.</li>
<li>Extend the filesystem.</li>
<li>Add a 30 GB disk.</li>
<li>Create a PV from the disk.</li>
<li>Extend the VG with this PV.</li>
<li>Create a snapshot of the system (root) disk.</li>
<li>Make some changes to the system disk.</li>
<li>Mount the snapshot and check its content.</li>
<li>Extend the snapshot.</li>
<li>Revert to the snapshot.</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="61-add-20-gb-disk">6.1. Add 20 GB Disk</h3><a class="sl-anchor-link" href="#61-add-20-gb-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.1. Add 20 GB Diskâ€</span></a></div>
<p>Output of <code dir="auto">lsblk -i</code> command before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda               8:0    0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1            8:1    0  487M  0 part /boot</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2            8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5            8:5    0 19.5G  0 part</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">|-myvg-root   254:0    0 18.6G  0 lvm  /</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">`-myvg-swap_1 254:1    0  980M  0 lvm  [SWAP]</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda               8:0    0   20G  0 disk|-sda1            8:1    0  487M  0 part /boot|-sda2            8:2    0    1K  0 part&#x60;-sda5            8:5    0 19.5G  0 part  |-myvg-root   254:0    0 18.6G  0 lvm  /  &#x60;-myvg-swap_1 254:1    0  980M  0 lvm  [SWAP]"><div></div></button></div></figure></div>
<p><strong>Note on Naming:</strong></p>
<p>When installing with LVM, Debian lets you choose the VG name (I chose <code dir="auto">myvg</code>). Debian names the root LV <code dir="auto">root</code>. Ubuntu uses <code dir="auto">ubuntu-vg</code> and <code dir="auto">lv-root</code> by default.</p>
<p><strong>In this section, replace <code dir="auto">myvg</code> with your actual Volume Group name (<code dir="auto">ubuntu-vg</code> for Ubuntu) in all commands.</strong></p>
<p>Output of <code dir="auto">sudo pvs</code> before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">PV         VG   Fmt  Attr PSize   PFree</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">/dev/sda5  myvg lvm2 a--  &#x3C;19.52g    0</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="  PV         VG   Fmt  Attr PSize   PFree  /dev/sda5  myvg lvm2 a--  <19.52g    0"><div></div></button></div></figure></div>
<p>Output of <code dir="auto">sudo lvscan</code> before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">ACTIVE            '/dev/myvg/root' [18.56 GiB] inherit</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">ACTIVE            '/dev/myvg/swap_1' [980.00 MiB] inherit</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="  ACTIVE            &#x27;/dev/myvg/root&#x27; [18.56 GiB] inherit  ACTIVE            &#x27;/dev/myvg/swap_1&#x27; [980.00 MiB] inherit"><div></div></button></div></figure></div>
<p>Output of <code dir="auto">df -h</code> before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Filesystem             Size  Used Avail Use% Mounted on</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">udev                   458M     0  458M   0% /dev</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M  544K   96M   1% /run</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/mapper/myvg-root   19G  1.6G   16G  10% /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  481M     0  481M   0% /dev/shm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  5.0M     0  5.0M   0% /run/lock</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/sda1              455M   98M  333M  23% /boot</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M     0   97M   0% /run/user/1000</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Filesystem             Size  Used Avail Use% Mounted onudev                   458M     0  458M   0% /devtmpfs                   97M  544K   96M   1% /run/dev/mapper/myvg-root   19G  1.6G   16G  10% /tmpfs                  481M     0  481M   0% /dev/shmtmpfs                  5.0M     0  5.0M   0% /run/lock/dev/sda1              455M   98M  333M  23% /boottmpfs                   97M     0   97M   0% /run/user/1000"><div></div></button></div></figure></div>
<p><strong>For physical servers</strong>, add the disk to the hardware. <strong>For virtual servers</strong>, define and attach it to the VM.</p>
<p>Iâ€™m adding a 20 GB disk to my VM.</p>
<p>Output of <code dir="auto">lsblk -i</code> after adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda               8:0    0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1            8:1    0  487M  0 part /boot</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2            8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5            8:5    0 19.5G  0 part</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">|-myvg-root   254:0    0 18.6G  0 lvm  /</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">`-myvg-swap_1 254:1    0  980M  0 lvm  [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb               8:16   0   20G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda               8:0    0   20G  0 disk|-sda1            8:1    0  487M  0 part /boot|-sda2            8:2    0    1K  0 part&#x60;-sda5            8:5    0 19.5G  0 part  |-myvg-root   254:0    0 18.6G  0 lvm  /  &#x60;-myvg-swap_1 254:1    0  980M  0 lvm  [SWAP]sdb               8:16   0   20G  0 disk"><div></div></button></div></figure></div>
<p>This means my new disk is <code dir="auto">/dev/sdb</code>. <strong>Change <code dir="auto">/dev/sdb</code> to your actual disk device name in the following steps.</strong></p>
<div class="sl-heading-wrapper level-h3"><h3 id="62-create-a-pv-from-the-disk">6.2. Create a PV from the Disk</h3><a class="sl-anchor-link" href="#62-create-a-pv-from-the-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.2. Create a PV from the Diskâ€</span></a></div>
<p>Mark <code dir="auto">/dev/sdb</code> as a Physical Volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="63-extend-the-vg-with-this-pv">6.3. Extend the VG with This PV</h3><a class="sl-anchor-link" href="#63-extend-the-vg-with-this-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.3. Extend the VG with This PVâ€</span></a></div>
<p>Add <code dir="auto">/dev/sdb</code> to the Volume Group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgextend myvg /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgextend myvg /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="64-extend-the-lv">6.4. Extend the LV</h3><a class="sl-anchor-link" href="#64-extend-the-lv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.4. Extend the LVâ€</span></a></div>
<p>Extend the root LV to use all available free space:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvextend -l +100%FREE  myvg/root</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvextend -l +100%FREE  myvg/root"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="65-extend-the-filesystem">6.5. Extend the Filesystem</h3><a class="sl-anchor-link" href="#65-extend-the-filesystem"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.5. Extend the Filesystemâ€</span></a></div>
<p>Resize the filesystem to use the new space:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo resize2fs /dev/myvg/root</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo resize2fs /dev/myvg/root"><div></div></button></div></figure></div>
<p>Output of <code dir="auto">df -h</code> after expanding:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Filesystem             Size  Used Avail Use% Mounted on</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">udev                   458M     0  458M   0% /dev</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M  548K   96M   1% /run</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/mapper/myvg-root   38G  1.6G   35G   5% /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  481M     0  481M   0% /dev/shm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                  5.0M     0  5.0M   0% /run/lock</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/dev/sda1              455M   98M  333M  23% /boot</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">tmpfs                   97M     0   97M   0% /run/user/1000</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="Filesystem             Size  Used Avail Use% Mounted onudev                   458M     0  458M   0% /devtmpfs                   97M  548K   96M   1% /run/dev/mapper/myvg-root   38G  1.6G   35G   5% /tmpfs                  481M     0  481M   0% /dev/shmtmpfs                  5.0M     0  5.0M   0% /run/lock/dev/sda1              455M   98M  333M  23% /boottmpfs                   97M     0   97M   0% /run/user/1000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="66-add-30-gb-disk">6.6. Add 30 GB Disk</h3><a class="sl-anchor-link" href="#66-add-30-gb-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.6. Add 30 GB Diskâ€</span></a></div>
<p>Iâ€™m adding a 30 GB disk to my VM.</p>
<p>Output of <code dir="auto">lsblk -i</code> command after adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda               8:0    0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1            8:1    0  487M  0 part /boot</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2            8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5            8:5    0 19.5G  0 part</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">|-myvg-root   254:0    0 38.6G  0 lvm  /</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">  </span></span><span style="--0:#d6deeb;--1:#403f53">`-myvg-swap_1 254:1    0  980M  0 lvm  [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb               8:16   0   20G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-myvg-root     254:0    0 38.6G  0 lvm  /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdc               8:32   0   30G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sda               8:0    0   20G  0 disk|-sda1            8:1    0  487M  0 part /boot|-sda2            8:2    0    1K  0 part&#x60;-sda5            8:5    0 19.5G  0 part  |-myvg-root   254:0    0 38.6G  0 lvm  /  &#x60;-myvg-swap_1 254:1    0  980M  0 lvm  [SWAP]sdb               8:16   0   20G  0 disk&#x60;-myvg-root     254:0    0 38.6G  0 lvm  /sdc               8:32   0   30G  0 disk"><div></div></button></div></figure></div>
<p>This means my new disk is <code dir="auto">/dev/sdc</code>. <strong>Change <code dir="auto">/dev/sdc</code> to your actual disk device name in the following steps.</strong></p>
<div class="sl-heading-wrapper level-h3"><h3 id="67-create-a-pv-from-the-disk">6.7. Create a PV from the Disk</h3><a class="sl-anchor-link" href="#67-create-a-pv-from-the-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.7. Create a PV from the Diskâ€</span></a></div>
<p>Mark <code dir="auto">/dev/sdc</code> as a Physical Volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdc</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdc"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="68-extend-the-vg-with-this-pv">6.8. Extend the VG with This PV</h3><a class="sl-anchor-link" href="#68-extend-the-vg-with-this-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.8. Extend the VG with This PVâ€</span></a></div>
<p>Add <code dir="auto">/dev/sdc</code> to the Volume Group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgextend myvg /dev/sdc</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgextend myvg /dev/sdc"><div></div></button></div></figure></div>
<p><strong>Important:</strong> Snapshots must be created within the same Volume Group as the original Logical Volume.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="69-create-a-snapshot-of-the-system-disk">6.9. Create a Snapshot of the System Disk</h3><a class="sl-anchor-link" href="#69-create-a-snapshot-of-the-system-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.9. Create a Snapshot of the System Diskâ€</span></a></div>
<p>Create a 2 GB snapshot named <code dir="auto">mysnapshot</code> of the <code dir="auto">root</code> LV:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvcreate --type snapshot -n mysnapshot -L 2G --snapshot /dev/myvg/root</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvcreate --type snapshot -n mysnapshot -L 2G --snapshot /dev/myvg/root"><div></div></button></div></figure></div>
<p><strong>Tip:</strong> Monitor snapshot usage with <code dir="auto">sudo lvs -o lv_name,lv_size,snap_percent,origin</code>. If the usage nears 100%, extend it immediately.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="610-make-changes-to-the-system-disk">6.10. Make Changes to the System Disk</h3><a class="sl-anchor-link" href="#610-make-changes-to-the-system-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.10. Make Changes to the System Diskâ€</span></a></div>
<p>To demonstrate the snapshot, weâ€™ll make significant changes by installing software:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt update</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt install -y apache2 mariadb-server</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt updatesudo apt install -y apache2 mariadb-server"><div></div></button></div></figure></div>
<p>Check the snapshot status to see if itâ€™s tracking changes:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvs -o lv_name,lv_size,origin</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvs -o lv_name,lv_size,origin"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="611-mount-the-snapshot-and-check-its-content">6.11. Mount the Snapshot and Check Its Content</h3><a class="sl-anchor-link" href="#611-mount-the-snapshot-and-check-its-content"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.11. Mount the Snapshot and Check Its Contentâ€</span></a></div>
<p>Create a temporary mount point:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/mysnapshot</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkdir /mnt/mysnapshot"><div></div></button></div></figure></div>
<p>Mount the snapshot (read-only is safer for inspection):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount -o ro /dev/myvg/mysnapshot /mnt/mysnapshot</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mount -o ro /dev/myvg/mysnapshot /mnt/mysnapshot"><div></div></button></div></figure></div>
<p>Browse <code dir="auto">/mnt/mysnapshot</code> to see the state of the root filesystem at the time the snapshot was taken (you wonâ€™t see the newly installed packages).</p>
<p>Unmount it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo umount /mnt/mysnapshot</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo umount /mnt/mysnapshot"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="612-extend-the-snapshot">6.12. Extend the Snapshot</h3><a class="sl-anchor-link" href="#612-extend-the-snapshot"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.12. Extend the Snapshotâ€</span></a></div>
<p>If the snapshot is running low on space (check with <code dir="auto">sudo lvs</code>), extend it to allow more changes to be tracked:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvextend -L+1G /dev/myvg/mysnapshot</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvextend -L+1G /dev/myvg/mysnapshot"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="613-revert-to-the-snapshot">6.13. Revert to the Snapshot</h3><a class="sl-anchor-link" href="#613-revert-to-the-snapshot"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ6.13. Revert to the Snapshotâ€</span></a></div>
<p>Reverting merges the snapshot back into the original volume, restoring it to the snapshotâ€™s state.</p>
<p><strong>âš ï¸ Critical for Root Volume:</strong> Since the root (<code dir="auto">/</code>) filesystem cannot be unmounted while the system is running, the merge is scheduled for the next boot.</p>
<p>Schedule the merge:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvconvert --merge myvg/mysnapshot</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvconvert --merge myvg/mysnapshot"><div></div></button></div></figure></div>
<p>You will see a message like: <em>â€œDelayed merge scheduled for activation after next activation.â€</em></p>
<p>Reboot the system. The merge will occur during the early boot process:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo reboot</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo reboot"><div></div></button></div></figure></div>
<p><strong>Note:</strong> The snapshot LV (<code dir="auto">mysnapshot</code>) will no longer exist after a successful merge.</p>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="7-case-study-3---export-and-import-of-lvm">7. Case Study 3 - Export and Import of LVM</h2><a class="sl-anchor-link" href="#7-case-study-3---export-and-import-of-lvm"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7. Case Study 3 - Export and Import of LVMâ€</span></a></div>
<hr>
<p>It is possible to export and import entire Volume Groups (with their Logical Volumes) between systems. The process involves: unmounting the LVs, deactivating and exporting the VG, moving the physical disks to the new system, then importing, activating, and remounting the VG.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="70-specs">7.0. Specs</h3><a class="sl-anchor-link" href="#70-specs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.0. Specsâ€</span></a></div>
<p>We have two systems installed without LVM: <strong>srva</strong> and <strong>srvb</strong>. We will create an LVM setup on <strong>srva</strong>, fill it with data, and then move the entire setup to <strong>srvb</strong>.</p>
<ul>
<li><strong>A. Prepare the first system (srva)</strong>
<ul>
<li>-1. Install LVM on srva.</li>
<li>-2. Add 20 GB disk to srva.</li>
<li>-3. Create a PV from the disk.</li>
<li>-4. Create a VG from the PV.</li>
<li>-5. Create 2 LVs within the VG.</li>
<li>-6. Create filesystems in the LV.</li>
<li>-7. Mount the filesystems.</li>
<li>-8. Put test data on the filesystems.</li>
</ul>
</li>
<li>B. <strong>Export</strong>
<ul>
<li>-9. Unmount the logical volumes.</li>
<li>-10. Deactivate all logical volumes in the VG.</li>
<li>-11. Export the VG and Unplug the disk.</li>
</ul>
</li>
<li>C. <strong>Prepare the second system (srvb)</strong>
<ul>
<li>-12. Install LVM on srvb.</li>
<li>-13. Plug the disk into srvb.</li>
</ul>
</li>
<li>D. <strong>Import</strong>
<ul>
<li>-14. Import the volume group.</li>
<li>-15. Activate the volume group.</li>
<li>-16. Mount the logical volumes.</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="71-install-lvm-on-srva">7.1. Install LVM on srva</h3><a class="sl-anchor-link" href="#71-install-lvm-on-srva"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.1. Install LVM on srvaâ€</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt update</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt -y install lvm2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt updatesudo apt -y install lvm2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="72-add-20-gb-disk-to-srva">7.2. Add 20 GB Disk to srva</h3><a class="sl-anchor-link" href="#72-add-20-gb-disk-to-srva"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.2. Add 20 GB Disk to srvaâ€</span></a></div>
<p>Output of <code dir="auto">lsblk -i</code> before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]"><div></div></button></div></figure></div>
<p><strong>For physical servers</strong>, add the disk to the hardware. <strong>For virtual servers</strong>, define and attach it to the VM.</p>
<p>Iâ€™m adding a 20 GB disk to my VM.</p>
<p>Output of <code dir="auto">lsblk -i</code> after adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb      8:16   0   20G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]sdb      8:16   0   20G  0 disk"><div></div></button></div></figure></div>
<p>This means my new disk is <code dir="auto">/dev/sdb</code>. <strong>Change <code dir="auto">/dev/sdb</code> to your actual disk device name in the following steps.</strong></p>
<div class="sl-heading-wrapper level-h3"><h3 id="73-create-a-pv-from-the-disk">7.3. Create a PV from the Disk</h3><a class="sl-anchor-link" href="#73-create-a-pv-from-the-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.3. Create a PV from the Diskâ€</span></a></div>
<p>Mark <code dir="auto">/dev/sdb</code> as a Physical Volume:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvcreate /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvcreate /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="74-create-a-vg-from-the-pv">7.4. Create a VG from the PV</h3><a class="sl-anchor-link" href="#74-create-a-vg-from-the-pv"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.4. Create a VG from the PVâ€</span></a></div>
<p>Create a Volume Group named <code dir="auto">myvg</code> using <code dir="auto">/dev/sdb</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgcreate myvg /dev/sdb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgcreate myvg /dev/sdb"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="75-create-2-lvs-within-the-vg">7.5. Create 2 LVs within the VG</h3><a class="sl-anchor-link" href="#75-create-2-lvs-within-the-vg"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.5. Create 2 LVs within the VGâ€</span></a></div>
<p>First LV is 10 GB:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvcreate -L 10G -n mylv1 myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvcreate -L 10G -n mylv1 myvg"><div></div></button></div></figure></div>
<p>Second LV uses the remaining space (~10 GB):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo lvcreate -l +100%FREE -n mylv2 myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo lvcreate -l +100%FREE -n mylv2 myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="76-create-filesystems-in-the-lvs">7.6. Create Filesystems in the LVs</h3><a class="sl-anchor-link" href="#76-create-filesystems-in-the-lvs"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.6. Create Filesystems in the LVsâ€</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkfs -t ext4 /dev/myvg/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkfs -t ext4 /dev/myvg/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkfs -t ext4 /dev/myvg/mylv1sudo mkfs -t ext4 /dev/myvg/mylv2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="77-mount-the-filesystems">7.7. Mount the Filesystems</h3><a class="sl-anchor-link" href="#77-mount-the-filesystems"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.7. Mount the Filesystemsâ€</span></a></div>
<p>Create mount points:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkdir /mnt/mylv1sudo mkdir /mnt/mylv2"><div></div></button></div></figure></div>
<p>Mount the LVs:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount /dev/myvg/mylv1 /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount /dev/myvg/mylv2 /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mount /dev/myvg/mylv1 /mnt/mylv1sudo mount /dev/myvg/mylv2 /mnt/mylv2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="78-put-test-data-on-the-filesystems">7.8. Put Test Data on the Filesystems</h3><a class="sl-anchor-link" href="#78-put-test-data-on-the-filesystems"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.8. Put Test Data on the Filesystemsâ€</span></a></div>
<p>Make the mount points writable for everyone (for testing):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo chmod 777 /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo chmod 777 /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo chmod 777 /mnt/mylv1sudo chmod 777 /mnt/mylv2"><div></div></button></div></figure></div>
<p>Create 2 files of 100 MB for each LV:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c100M > /mnt/mylv1/d1f1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c100M > /mnt/mylv1/d1f2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c100M > /mnt/mylv2/d2f1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">&#x3C; /dev/urandom tr -dc "[:space:][:print:]" | head -c100M > /mnt/mylv2/d2f2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c100M > /mnt/mylv1/d1f1< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c100M > /mnt/mylv1/d1f2< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c100M > /mnt/mylv2/d2f1< /dev/urandom tr -dc &#x22;[:space:][:print:]&#x22; | head -c100M > /mnt/mylv2/d2f2"><div></div></button></div></figure></div>
<p>Check the contents:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ls -al /mnt/mylv1ls -al /mnt/mylv2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="79-unmount-logical-volumes">7.9. Unmount Logical Volumes</h3><a class="sl-anchor-link" href="#79-unmount-logical-volumes"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.9. Unmount Logical Volumesâ€</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo umount /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo umount /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo umount /mnt/mylv1sudo umount /mnt/mylv2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="710-deactivate-all-logical-volumes-in-the-vg">7.10. Deactivate All Logical Volumes in the VG</h3><a class="sl-anchor-link" href="#710-deactivate-all-logical-volumes-in-the-vg"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.10. Deactivate All Logical Volumes in the VGâ€</span></a></div>
<p>Deactivate the entire Volume Group:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgchange -an myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgchange -an myvg"><div></div></button></div></figure></div>
<p>Verify with <code dir="auto">pvscan</code> (it should show the PV as belonging to <code dir="auto">myvg</code> but not active):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo pvscan</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo pvscan"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="711-export-the-vg-and-unplug-the-disk">7.11. Export the VG and Unplug the Disk</h3><a class="sl-anchor-link" href="#711-export-the-vg-and-unplug-the-disk"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.11. Export the VG and Unplug the Diskâ€</span></a></div>
<p>Export the Volume Group (this removes it from the systemâ€™s LVM metadata cache):</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgexport myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgexport myvg"><div></div></button></div></figure></div>
<p>Now you can safely unplug or detach the 20 GB disk from <strong>srva</strong>.</p>
<p>Output of <code dir="auto">lsblk -i</code> after removing the disk from <strong>srva</strong>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="712-install-lvm-on-srvb">7.12. Install LVM on srvb</h3><a class="sl-anchor-link" href="#712-install-lvm-on-srvb"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.12. Install LVM on srvbâ€</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt update</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo apt -y install lvm2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt updatesudo apt -y install lvm2"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="713-plug-the-disk-into-srvb">7.13. Plug the Disk into srvb</h3><a class="sl-anchor-link" href="#713-plug-the-disk-into-srvb"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.13. Plug the Disk into srvbâ€</span></a></div>
<p>Output of <code dir="auto">lsblk -i</code> on <strong>srvb</strong> before adding the disk:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]"><div></div></button></div></figure></div>
<p><strong>For physical servers</strong>, add the disk to the hardware. <strong>For virtual servers</strong>, define and attach it to the VM.</p>
<p>Iâ€™m adding the 20 GB disk to my <strong>srvb</strong> VM.</p>
<p>Output of <code dir="auto">lsblk -i</code> after adding the disk to <strong>srvb</strong>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sda      8:0    0 22.9G  0 disk</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda1   8:1    0   22G  0 part /</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">|-sda2   8:2    0    1K  0 part</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">`-sda5   8:5    0  976M  0 part [SWAP]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sdb      8:16   0   20G  0 disk</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTSsda      8:0    0 22.9G  0 disk|-sda1   8:1    0   22G  0 part /|-sda2   8:2    0    1K  0 part&#x60;-sda5   8:5    0  976M  0 part [SWAP]sdb      8:16   0   20G  0 disk"><div></div></button></div></figure></div>
<p>This means the disk is now <code dir="auto">/dev/sdb</code> on <strong>srvb</strong>.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="714-import-the-volume-group">7.14. Import the Volume Group</h3><a class="sl-anchor-link" href="#714-import-the-volume-group"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.14. Import the Volume Groupâ€</span></a></div>
<p>Scan for and import the exported Volume Group <code dir="auto">myvg</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgimport myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgimport myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="715-activate-the-volume-group">7.15. Activate the Volume Group</h3><a class="sl-anchor-link" href="#715-activate-the-volume-group"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.15. Activate the Volume Groupâ€</span></a></div>
<p>Activate the Volume Group and its logical volumes:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo vgchange -ay myvg</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vgchange -ay myvg"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="716-mount-the-logical-volumes">7.16. Mount the Logical Volumes</h3><a class="sl-anchor-link" href="#716-mount-the-logical-volumes"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ7.16. Mount the Logical Volumesâ€</span></a></div>
<p>Create mount points and mount the LVs:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mkdir /mnt/mylv1 /mnt/mylv2</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount /dev/myvg/mylv1 /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">sudo mount /dev/myvg/mylv2 /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mkdir /mnt/mylv1 /mnt/mylv2sudo mount /dev/myvg/mylv1 /mnt/mylv1sudo mount /dev/myvg/mylv2 /mnt/mylv2"><div></div></button></div></figure></div>
<p>Verify the data is intact:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">ls -al /mnt/mylv2</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="ls -al /mnt/mylv1ls -al /mnt/mylv2"><div></div></button></div></figure></div>
<br>
<div class="sl-heading-wrapper level-h2"><h2 id="8-uncovered-subjects">8. Uncovered Subjects</h2><a class="sl-anchor-link" href="#8-uncovered-subjects"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œ8. Uncovered Subjectsâ€</span></a></div>
<hr>
<p>The following LVM subjects are not covered in this tutorial:</p>
<ul>
<li>Striped logical volumes</li>
<li>RAID logical volumes</li>
<li>Thin-provisioned logical volumes</li>
<li>Cache logical volumes</li>
<li>Using shared storage (e.g., with iSCSI or Fibre Channel)</li>
<li>Fine-grained control of logical volume activation</li>
<li>Controlling physical extent allocation policies</li>
<li>LVM object tags</li>
</ul> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr">   </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>